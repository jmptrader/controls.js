<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>controls.js Intro</title>
    <script src="libs/doT.js"></script>
    <script src="libs/jquery.js"></script>
    <link rel="stylesheet" href="libs/bootstrap.css">
    <script src="libs/bootstrap.js"></script>
    <script src="controls.js"></script>
    <script src="bootstrap.controls.js"></script>
    <link rel="stylesheet" href="index.css">
    <script src="index.components.js"></script>
</head>

<body><script>

// user control example

function UserControl(parameters, attributes)
{
    controls.controlInitialize(this, 'UserControl', parameters, attributes);
    
    this.style('width:100px; height:80px; display:inline-block; margin-right:8px; background-color:#' + (Math.random().toString(16).substr(2,3)));
    
    this.add('button:bootstrap.Button#style=default', {$text:'OK'});
    this.button.listen('click', function()
    {
        alert('Button-click!');
    });
}
UserControl.prototype = controls.control_prototype;
controls.typeRegister('UserControl', UserControl);


// top body layout
var body = createDocumentStructure();

// header panel
with(body.header.header_pane.$builder())
{
    $h1ref('controls.js', 'http://aplib.github.io/controls.js/');
    $p( 'for dynamic html documents and UI solutions' );
    $reflabels([
        'GitHub',           'default', 'https://github.com/aplib/controls.js',
        'Download v0.1',    'default', 'https://github.com/aplib/controls.js/archive/controls.js-v0.1.zip',
        'Bootstrap 3 Demo', 'default', 'bootstrap.controls-demo.html']);
}

// document content
with(body.fill.content_pane.$builder())
{
    ////////////////////////////////////////////////////////////////////////////
    // Concepts                                                               //
    ////////////////////////////////////////////////////////////////////////////
    
    $C('h2', {id:'controls-js-concepts', $text:'Concepts'});
    
    
    // "Code first, both server-side or client-side html code generation"
    
    $C('h3', {id:'code-first', $text:'Code first, both server-side and client-side html code generation'});
    $codebox(
'var body = controls.create("body");\n\
body.add(["top:Container", "left:Container", "fill:Container"]);\n\
\n\
...\n\
\n\
with(body.fill.$builder())\n\
{\n\
    $$C("content_pane:div", {class:"content-pane col-sm-9"});\n\
    $C("h2", {id: "lorem-ipsum-group", $text: "Lorem ipsum"});\n\
    $X("<p>Lorem ipsum dolor sit amet</p>");\n\
    $p("Lorem ipsum dolor sit amet");\n\
}\n\
\n\
createNavigationPanel(body.fill.content_pane);\n\
body.attach();\n\
body.refresh();\n\
');



    // "JavaScript controls is used for code generation and managing DOM elements"
    
    $C('h3', {id:'full-controls', $text:'JavaScript controls is used for managing DOM elements'});
    $codebox(
'var lorem = menu.add("DropdownItem", {$text="Lorem ipsum", class="unchecked"});\n\
\n\
> lorem.class("checked");');
    
    
    
    // "Extendable DSL"
    
    $C('h3', {id:'dsl', $text:'Extendable DSL'});
    $codebox(
'\
controls.defCommand("$codebox", function(content, _class) { ... });\n\
\n\
with(body.fill.$builder())\n\
{\n\
    $codebox("Lorem ipsum dolor sit amet");\n\
}\n\
');
    
    
    // "Structured and reusable code"
    
    $C('h3', {id:'code-reuse', $text:'Structured and reusable code'});
    
    $$C('div', {class:'example top-box'}, function(example)
    {
        $C("UserControl", 5);
    });
    
    $codebox(
'function UserControl(parameters, attributes)\n\
{\n\
    controls.controlInitialize(this, "UserControl", parameters, attributes);\n\
\n\
    this.style("background-color:#" + (Math.random().toString(16).substr(2,3)));\n\
\n\
    this.add("OK:bootstrap.Button", {$text:"OK"})\n\
    .listen("click", function()\n\
    {\n\
        alert("Button-click!");\n\
    });\n\
}');

    
    // "Inversion of control"
    
    $C('h3', {id:'inversion-of-control', $text:'Inversion of control'});
    
    $codebox(
'\controls.typeRegister("bootstrap.Button#style=success", CustomBtnControl);\n\
...\n\
> var button = example.add("bootstrap.Button#size=2,style=success");');
    $p('The combination of type name and parameters (where parameters may be inheritable) resoves to the specific type of the object in the runtime. IoC allows to\
 override the details of the behavior of existing systems without modifying their code. For example, it will organize a versioning\
 components in the design, switching visual themes at runtime or unbreakable changes at service.');

    
    
    // Minimizing manipulation of the DOM
    
//    $C('h3', {id:'minimizing-manipulation-of-the-DOM', $text:'Minimizing manipulation of the DOM'});
//    
//    $p('It is preferable not to store data and other information in DOM, except when it leads to simplification and readability.');
}



createNavigationPanel(body.fill.content_pane);
window.addEventListener('load', function()
{
    // probe
    body.insert(0, controls.create('Container', {$text:document.body.childNodes[0].outerHTML})); // preserve this script
    body.attachAll();
    if (window.location.href.indexOf('#refresh') >= 0)
        body.refresh();
});

</script>
    
    
 <!-- probe -->   
<div class="header-pane" id="d109"><a class="" href="http://aplib.github.io/controls.js/" id="d10c"><h1 class="btn-primary" style="border-radius:4px; padding:12px; display:inline-block;" id="d10d">controls.js</h1></a><p>for dynamic html documents and UI solutions</p><a href="https://github.com/aplib/controls.js" class="label label-default">GitHub</a>&nbsp;&nbsp;<a href="https://github.com/aplib/controls.js/archive/controls.js-v0.1.zip" class="label label-default">Download v0.1</a>&nbsp;&nbsp;<a href="bootstrap.controls-demo.html" class="label label-default">Bootstrap 3 Demo</a>&nbsp;&nbsp;</div><div class="nav-pane col-sm-3" id="d10a"><ul class="nav navlist affix-top" id="d122"><li><a class="" href="#code-first" id="d124">Code first, both server-side and client-side html code generation</a></li><li><a class="" href="#full-controls" id="d125">JavaScript controls is used for managing DOM elements</a></li><li><a class="" href="#dsl" id="d126">Extendable DSL</a></li><li><a class="" href="#code-reuse" id="d127">Structured and reusable code</a></li><li><a class="" href="#inversion-of-control" id="d128">Inversion of control</a></li><li><a class="" href="#minimizing-manipulation-of-the-DOM" id="d129">Minimizing manipulation of the DOM</a></li></ul></div><div class="content-pane col-sm-9" id="d10b"><h2 class="" id="controls-js-concepts">Concepts</h2><h3 class="" id="code-first">Code first, both server-side and client-side html code generation</h3><div class="codebox box"><pre><code>var body = controls.create("body");
body.add(["top:Container", "left:Container", "fill:Container"]);

...

with(body.fill.$builder())
{
    $$C("content_pane:div", {class:"content-pane col-sm-9"});
    $C("h2", {id: "lorem-ipsum-group", $text: "Lorem ipsum"});
    $X("&lt;p&gt;Lorem ipsum dolor sit amet&lt;/p&gt;");
    $p("Lorem ipsum dolor sit amet");
}

createNavigationPanel(body.fill.content_pane);
body.attach();
body.refresh();
</code></pre></div><h3 class="" id="full-controls">JavaScript controls is used for managing DOM elements</h3><div class="codebox box"><pre><code>var lorem = menu.add("DropdownItem", {$text="Lorem ipsum", class="unchecked"});

&gt; lorem.class("checked");</code></pre></div><h3 class="" id="dsl">Extendable DSL</h3><div class="codebox box"><pre><code>controls.defCommand("$codebox", function(content, _class) { ... });

with(body.fill.$builder())
{
    $codebox("Lorem ipsum dolor sit amet");
}
</code></pre></div><h3 class="" id="code-reuse">Structured and reusable code</h3><div class="example top-box" id="d113"><div class="" id="d11c" style="width:100px; height:80px; display:inline-block; margin-right:8px; background-color:#e62"><button class="btn btn-default" id="d11d">OK</button></div><div class="" id="d11a" style="width:100px; height:80px; display:inline-block; margin-right:8px; background-color:#22e"><button class="btn btn-default" id="d11b">OK</button></div><div class="" id="d118" style="width:100px; height:80px; display:inline-block; margin-right:8px; background-color:#81e"><button class="btn btn-default" id="d119">OK</button></div><div class="" id="d116" style="width:100px; height:80px; display:inline-block; margin-right:8px; background-color:#2a5"><button class="btn btn-default" id="d117">OK</button></div><div class="" id="d114" style="width:100px; height:80px; display:inline-block; margin-right:8px; background-color:#9e0"><button class="btn btn-default" id="d115">OK</button></div></div><div class="codebox box"><pre><code>function UserControl(parameters, attributes)
{
    controls.controlInitialize(this, "UserControl", parameters, attributes);

    this.style("background-color:#" + (Math.random().toString(16).substr(2,3)));

    this.add("OK:bootstrap.Button", {$text:"OK"})
    .listen("click", function()
    {
        alert("Button-click!");
    });
}</code></pre></div><h3 class="" id="inversion-of-control">Inversion of control</h3><div class="codebox box"><pre><code>controls.typeRegister("bootstrap.Button#style=success", CustomBtnControl);
...
&gt; var button = example.add("bootstrap.Button#size=2,style=success");</code></pre></div><p>The combination of type name and parameters (where parameters may be inheritable) resoves to the specific type of the object in the runtime. IoC allows to override the details of the behavior of existing systems without modifying their code. For example, it will organize a versioning components in the design, switching visual themes at runtime or unbreakable changes at service.</p>
</div></body>
</html>