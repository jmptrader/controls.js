!function t(e,n,r){function i(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return i(n?n:t)},u,u.exports,t,e,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(t,e){!function(){"use strict";function t(){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},e=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(e,function(e){return t[e]||e}):this}}function n(t,e,r){return("string"==typeof e?e:e.toString()).replace(t.define||s,function(e,n,i,o){return 0===n.indexOf("def.")&&(n=n.substring(4)),n in r||(":"===i?(t.defineParams&&o.replace(t.defineParams,function(t,e,i){r[n]={arg:e,text:i}}),n in r||(r[n]=o)):new Function("def","def['"+n+"']="+o)(r)),""}).replace(t.use||s,function(e,i){t.useParams&&(i=i.replace(t.useParams,function(t,e,n,i){if(r[n]&&r[n].arg&&i){var o=(n+":"+i).replace(/'|\\/g,"_");return r.__exp=r.__exp||{},r.__exp[o]=r[n].text.replace(new RegExp("(^|[^\\w$])"+r[n].arg+"([^\\w$])","g"),"$1"+i+"$2"),e+"def.__exp['"+o+"']"}}));var o=new Function("def","return "+i)(r);return o?n(t,o,r):o})}function r(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var i={version:"1.0.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1},template:void 0,compile:void 0};"undefined"!=typeof e&&e.exports?e.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):function(){return this||(0,eval)("this")}().doT=i,String.prototype.encodeHTML=t();var o={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},s=/$^/;i.template=function(e,a,l){a=a||i.templateSettings;var u,c,h=a.append?o.append:o.split,p=0,f=a.use||a.define?n(a,e,l||{}):e;f=("var out='"+(a.strip?f.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):f).replace(/'|\\/g,"\\$&").replace(a.interpolate||s,function(t,e){return h.start+r(e)+h.end}).replace(a.encode||s,function(t,e){return u=!0,h.start+r(e)+h.endencode}).replace(a.conditional||s,function(t,e,n){return e?n?"';}else if("+r(n)+"){out+='":"';}else{out+='":n?"';if("+r(n)+"){out+='":"';}out+='"}).replace(a.iterate||s,function(t,e,n,i){return e?(p+=1,c=i||"i"+p,e=r(e),"';var arr"+p+"="+e+";if(arr"+p+"){var "+n+","+c+"=-1,l"+p+"=arr"+p+".length-1;while("+c+"<l"+p+"){"+n+"=arr"+p+"["+c+"+=1];out+='"):"';} } out+='"}).replace(a.evaluate||s,function(t,e){return"';"+r(e)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+="),u&&a.selfcontained&&(f="String.prototype.encodeHTML=("+t.toString()+"());"+f);try{return new Function(a.varname,f)}catch(d){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+f),d}},i.compile=function(t,e){return i.template(t,null,e)}}()},{}],2:[function(t,e){function n(t){this.__path=t.path||"./","/"!==this.__path[this.__path.length-1]&&(this.__path+="/"),this.__destination=t.destination||this.__path,"/"!==this.__destination[this.__destination.length-1]&&(this.__destination+="/"),this.__global=t.global||"window.render",this.__rendermodule=t.rendermodule||{},this.__settings=t.templateSettings?i(t.templateSettings,i(a.templateSettings)):void 0,this.__includes={}}function r(t){for(var e="",n=0;n<t.length;n++)e+="itself."+t[n]+"="+t[n]+";";return e}function i(t,e){e=e||{};for(var n in t)e[n]=t[n];return e}function o(t){var e=s.readFileSync(t);return e?e.toString():(console.log("problems with "+t),void 0)}var s=t("fs"),a=e.exports=t("./doT");a.process=function(t){return new n(t).compileAll()},n.prototype.compileToFile=function(t,e,n){n=n||{};var o,l=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf(".")),u=i(this.__includes,i(n)),c=this.__settings||a.templateSettings,h=i(c),p=a.template(e,c,u),f=[],d="";for(var v in u)u[v]!==n[v]&&u[v]!==this.__includes[v]&&(o=void 0,"string"==typeof u[v]?o=a.template(u[v],c,u):"function"==typeof u[v]?o=u[v]:u[v].arg&&(h.varname=u[v].arg,o=a.template(u[v].text,h,u)),o&&(d+=o.toString().replace("anonymous",v),f.push(v)));d+=p.toString().replace("anonymous",l),s.writeFileSync(t,"(function(){"+d+"var itself="+l+";"+r(f)+"if(typeof module!=='undefined' && module.exports) module.exports=itself;else if(typeof define==='function')define(function(){return itself;});else {"+this.__global+"="+this.__global+"||{};"+this.__global+"['"+l+"']=itself;}}());")},n.prototype.compilePath=function(t){var e=o(t);return e?a.template(e,this.__settings||a.templateSettings,i(this.__includes)):void 0},n.prototype.compileAll=function(){console.log("Compiling all doT templates...");var t,e,n,r=this.__path,i=s.readdirSync(r);for(t=0,e=i.length;e>t;t++)n=i[t],/\.def(\.dot|\.jst)?$/.test(n)&&(console.log("Loaded def "+n),this.__includes[n.substring(0,n.indexOf("."))]=o(r+n));for(t=0,e=i.length;e>t;t++)n=i[t],/\.dot(\.def|\.jst)?$/.test(n)&&(console.log("Compiling "+n+" to function"),this.__rendermodule[n.substring(0,n.indexOf("."))]=this.compilePath(r+n)),/\.jst(\.dot|\.def)?$/.test(n)&&(console.log("Compiling "+n+" to file"),this.compileToFile(this.__destination+n.substring(0,n.indexOf("."))+".js",o(r+n)));return this.__rendermodule}},{"./doT":1,fs:4}],3:[function(t,e){var n="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};(function(){"use strict";function n(t){function e(){this.state_id=Number.MIN_VALUE}function n(){}function i(t,e){var n=[];if(e){var r=e.$data;if(r)for(var i=0,o=r.length;o>i;i++)n[i]=r[i]}for(var s in T)n[s]=T[s];for(var s in S)n[s]=S[s];if(n.state_id=Number.MIN_VALUE,n.last_operation=0,n.last_changed=void 0,t&&t.adapter&&(this.adapter=y.create(t.adapter),!this.adapter))throw new TypeError('Invalid data adapter type "'+t.adapter+'"!');return n}function o(t,e,n){if("}"===t.slice(-1)){var r=t.indexOf("{");r>=0&&(e["#{href}"]=t.substr(r+1,t.length-r-2),t=t.substr(0,r).trim())}var i=t.indexOf("."),o=t.indexOf("/"),s=t.indexOf("#"),a=-1;o>=0&&(a=o),s>=0&&(a>s||0>a)&&(a=s);var l=0>a?t:t.substr(0,a);if(l&&(0>i||a>=0&&i>a)){if(n){var i=n.indexOf(".");i>=0?n=n.substr(0,i+1):n+="."}else n="controls.";l=n+l}if(arguments.length<2)return l;if(a>=0){t.substr(a);var u,c;if(s>o?c=t.substr(s+1):s>=0&&(c=t.substr(s+1,o-s-1)),o>s?u=t.substr(o+1):o>=0&&(u=t.substr(o+1,s-o-1)),u){u=u.split(";");for(var h=0,p=u.length;p>h;h++){var f=u[h];if(f){f=f.split("=");var d=f[0],v=f[1];d&&(void 0===v?v=!0:v&&(v=v.trim()),e["/"+d.trim()]=v)}}}if(c){c=c.split(";");for(var h=0,p=c.length;p>h;h++){var f=c[h];if(f){f=f.split("=");var d=f[0],v=f[1];d&&(void 0===v?v=!0:v&&(v=v.trim()),e[d.trim()]=v)}}}}return l}function s(t,e){var n;t=t.toLowerCase();var r=y.subtypes[t];if(r)for(var i=0,o=r.length;o>i;i++){var a=r[i],l=!0;for(var u in e)if("__ctr,??".indexOf(u)<0&&a[u]!==e[u]){l=!1;break}if(l){n=a.__ctr;break}}if(!n&&(n=y[t],n&&n.isAlias&&n.__type!==t)){var c=n.parameters;for(var u in c)e[u]=c[u];n=s(n.__type,e)}return n}function a(t,e){if("string"!=typeof e)return e;var n=e.indexOf(":"),r=e.indexOf("."),i=e.indexOf("/"),o=e.indexOf("#");return(~r&&n>r||~i&&n>i||~o&&n>o)&&(n=-1),(~i&&r>i||~o&&r>o)&&(r=-1),0>r&&(e=n>=0?e.substr(0,n+1)+t.$default+e.substr(n+1):t.$default+e),e}function l(t,e){y.controlInitialize(this,"controls.Container",t,e,y.default_inner_template)}function u(t,e){y.controlInitialize(this,"controls.Custom",t,e,e.$template||e.$outer_template,e.$inner_template)}function c(t,e){this.isStub=!0,y.controlInitialize(this,"controls.Stub",t,e,function(t){return"<div"+t.printAttributes()+">"+t.printControls()+"</div>"}),this.class("stub");var n=0;Object.defineProperty(this,"state",{enumerable:!0,get:function(){return n},set:function(t){t!==n&&(n=t,0===t?this.class(null,"stub-loading stub-error"):0>t?this.class("stub-error","stub-loading"):this.class("stub-loading","stub-error"),this.raise("state"),this.state>0&&this.tryReplace())}}),this.tryReplace=function(){var e=y.extend({},this.parameters),n=y.extend({},this.attributes);for(var r in this.parameters)"#{"===r.substr(0,2)&&delete e[r];var i=y.create(t["#{type}"],e,n);i&&(i.class(null,"stub stub-loading stub-error"),this.replaceItself(i))}}function h(t,e){y.controlInitialize(this,"controls.head",t,e,h.template),this.attach=function(){h.prototype.attach.call(this,document.head)},this.attachAll=function(){h.prototype.attach.call(this,document.head),h.prototype.attachAll.call(this)}}function p(t,e){y.controlInitialize(this,"controls.body",t,e,p.template),this.attach=function(){p.prototype.attach.call(this,document.body)},this.attachAll=function(){p.prototype.attach.call(this,document.body),p.prototype.attachAll.call(this)}}function f(t,e){y.controlInitialize(this,"controls.Layout",t,e,f.template);var n=!1;this.cellSet=new l,this.cellSet.listen("attributes",this,function(t){var e=t.name,n=t.value,r=void 0===n||null===n,i=this._element;if(i)for(var o=i.childNodes,s=o.length-1;s>=0;s--){var a=o[s];r?a.removeAttribute(e):a.setAttribute(e,n)}}),this.listen("type",function(){var t,e=this.parameters;for(var r in e)("float"===r||"/float"===r)&&(t=e[r]);t&&this.cellSet.style("float:"+t),n=t})}function d(t,e){y.controlInitialize(this,"controls.List",t,e,d.template),this.itemSet=new l,this.itemSet.listen("attributes",this,function(t){var e=t.name,n=t.value,r=void 0===n||null===n,i=this._element;if(i)for(var o=i.childNodes,s=o.length-1;s>=0;s--){var a=o[s];r?a.removeAttribute(e):a.setAttribute(e,n)}})}function v(t,e){this.initialize("controls.Input",t,e,v.template),Object.defineProperty(this,"value",{get:function(){return this.attributes.value},set:function(t){var e=this._element;e?e.value=t:this.attributes.value=t}}),this.listen("change",function(){this.attributes.value=this.element.value}),this.listen("element",function(t){t&&(t.value=this.attributes.value||"")})}function m(t,e){this.initialize("controls.Select",t,e,m.template,m.inner_template),this.bind(e.hasOwnProperty("$data")?y.create("DataArray",{$data:e.$data}):y.create("DataArray")),this.listen("data",this.refreshInner),Object.defineProperty(this,"value",{get:function(){return this.attributes.value},set:function(t){var e=this._element;e?e.value=t:this.attributes.value=t}}),this.listen("change",function(){this.attributes.value=this.element.value}),this.listen("element",function(t){t&&(t.value=this.attributes.value)})}var y=this;y.VERSION=r,y.id_generator=53504;var _=",add,attach,attributes,class,data,element,first,id,__type,controls,last,name,forEach,parameters,parent,remove,style,",g=/&(?!#?\w+;)|<|>|"|'|\//g,b={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;","/":"&#47;"},x=/&#(\d{1,8});/g;y.subtypes={},y.doT=t;try{t.templateSettings.strip=0}catch(w){}if(t.templateSettings.strip)throw new SyntaxError("Due to bugs and the inability to cross-browser fix them, please remove strip option in doT library! #112");y.controlInitialize=function(e,n,r,i,o,s){var a=i||{};a.id||(a.id=(++y.id_generator).toString(16)),e.id=a.id,e.__type=n,e.parameters=r||{},e.attributes=a,e.controls=[],o&&Object.defineProperty(e,"outer_template",{enumerable:!0,writable:!0,value:"string"==typeof o?t.template(o):o}),s&&Object.defineProperty(e,"inner_template",{enumerable:!0,writable:!0,value:"string"==typeof s?t.template(s):s})},y.typeRegister=function(t,e,n){y.factoryRegister(t,e),e.is_constructor=!0,e.revive=n},y.factoryRegister=function(t,e){var n={},r=o(t,n).toLowerCase();if(r.length<t.length){var i=y.subtypes[r];i||(i=[],y.subtypes[r]=i),n.__ctr=e,i.push(n)}else{if(y[r])throw new TypeError("Type "+t+" already registered!");y[r]=e}},y.typeAlias=function(t,e){var n={},r=o(e,n).toLowerCase(),i=s(r,n);if(!i)throw new TypeError("Type "+r+" not registered!");y[t.toLowerCase()]={__type:r,parameters:n,isAlias:!0}},y.parse=function(t){try{return JSON.parse(t)||{}}catch(e){console.log(e)}return{}},y.Event=function(){var t=new Array;this.listeners=t,this.raise=function(){for(var e=0,n=t.length;n>e;e+=2)t[e].apply(t[e+1],arguments)}},y.Event.prototype={addListener:function(t,e){if("function"==typeof t&&(e=t,t=this),e){var n=this.listeners;n.push(e),n.push(t)}},removeListener:function(t){var e=this.listeners,n=e.indexOf(t);n>=0&&e.splice(n,2)},clear:function(){this.listeners=[]}};var O=[];setInterval(function(){if(O.length>0)for(var t=0,e=O.length;e>t;t++){try{O[t].post_event.raise()}catch(n){console.log(n)}O.length=0}},30);var T={listen:function(t,e){return"function"==typeof t&&(e=t,t=this),e?(this.event||(this.event=new y.Event(this)),this.event.addListener(t,e),this):this},removeListener:function(t){var e=this.event;return e&&e.removeListener(t),this},subscribe:function(t,e){return"function"==typeof t&&(e=t,t=this),e?(this.post_event||(this.post_event=new y.Event(this)),this.post_event.addListener(t,e),this):this},unsubscribe:function(t){var e=this.post_event;return e&&e.removeListener(t),this},raise:function(){var t=this.event;t&&t.raise.apply(this,arguments);var e=this.post_event;if(e){var n=O.indexOf(this);(0>n||n!==O.length-1)&&(n>=0&&O.splice(n,1),O.push(this))}},set:function(t,e){this.state_id++,this[t]=e,this.last_name=t,this.raise()},setx:function(t){var e;for(var n in t)t.hasOwnProperty(n)&&(e=!0,this.state_id++,this[n]=t[n],this.last_name=t);e&&this.raise()}};e.prototype=T,y.typeRegister("DataObject",e);var S={push:function(){for(var t=Object.getPrototypeOf(this),e=0,n=arguments.length;n>e;e++)t.push.call(this,arguments[e]);this.state_id+=n,this.last_operation=1,this.last_index=this.length-1,this.raise(this)}};n.prototype={raise:function(){}},y.typeRegister("LocalStorage",n),y.factoryRegister("DataArray",i),y.control_prototype=new function(){function e(t,e){var n=this._parent;if(t!==n){this._parent=t;var r=this._name;if(n){var i=n.controls,e=i.indexOf(this);e>=0&&i.splice(e,1),r&&n.hasOwnProperty(r)&&n[r]===this&&delete n[r]}if(t){var o=t.controls;void 0===e?o.push(this):o.splice(e,0,this),r&&(t[r]=this)}this.raise("parent",t)}}function n(t,e,n){var r=t.events;r||(r={},t.events=r);var o=n?"#"+e:e,s=r[o];if(!s&&(s=new y.Event,s.event=e,s.is_dom_event=!!(i.indexOf(","+e+",")>=0),s.capture=n,r[o]=s,i.indexOf(e)>=0)){var a=t._element;a&&a.addEventListener(e,s.raise,n)}return s}function r(){var t=Array.prototype.slice.call(arguments);t.unshift("data"),this.raise.apply(this,t)}this.initialize=function(t,e,n,r,i){y.controlInitialize(this,t,e,n,r,i)},Object.defineProperty(this,"$",{enumerable:!0,get:function(){return this._element?$(this._element):$("#"+this.id)}}),Object.defineProperty(this,"name",{enumerable:!0,get:function(){return this._name},set:function(t){if(_.indexOf(","+t+",")>=0)throw new SyntaxError('Invalid name "'+t+'"!');var e=this._name;if(t!==e){this._name=t;var n=this._parent;n&&(e&&n.hasOwnProperty(e)&&n[e]===this&&delete n[e],t&&(n[t]=this))}}}),Object.defineProperty(this,"element",{enumerable:!0,get:function(){return this._element},set:function(t){if(0===arguments.length)return this._element;var e=this._element;if(t!==e){this._element=t;var n=this.events;if(n)for(var r in n){var i=n[r];i.is_dom_event&&(e&&e.removeEventListener(i.event,i.raise,i.capture),t&&t.addEventListener(i.event,i.raise,i.capture))}this.raise("element",t)}}}),Object.defineProperties(this,{parent:{enumerable:!0,get:function(){return this._parent},set:e},wrapper:{enumerable:!0,get:function(){return this._wrapper},set:function(t){var e=this._wrapper;if(t!==e){if(this._wrapper=t,e){var n=e.controls,r=n.indexOf(this);r>=0&&n.splice(r,1)}if(t){var i=t.controls;i.push(this)}}}},length:{enumerable:!0,get:function(){return this.controls.length}},first:{enumerable:!0,get:function(){return this.controls[0]}},last:{enumerable:!0,get:function(){return this.controls[this.controls.length-1]}}}),this.outer_template=function(t){return"<div"+t.printAttributes()+">"+(t.attributes.$text||"")+t.printControls()+"</div>"},y.default_outer_template=this.outer_template,this.inner_template=function(t){return(t.attributes.$text||"")+t.printControls()},y.default_inner_template=this.inner_template,this.outer_inline_template=function(t){return"<span"+t.printAttributes()+">"+(t.attributes.$text||"")+t.printControls()+"</span>"},y.default_outer_inline_template=this.outer_inline_template,this.innerHTML=function(){return this.inner_template(this)},this.outerHTML=function(){return this.outer_template(this)},this.wrappedHTML=function(){var t=this._wrapper;return t?t.wrappedHTML():this.outerHTML()},this.template=function(e,n){if(e){this.hasOwnProperty("outer_template")||Object.defineProperty(this,"outer_template",{configurable:!0,enumerable:!0,writable:!0});var r=typeof e;"string"===r?(this.outer_template=t.template(e),this.outer_template_text=e):"function"===r&&(this.outer_template=e,this.outer_template_text="@func")}n&&(this.hasOwnProperty("inner_template")||Object.defineProperty(this,"inner_template",{configurable:!0,enumerable:!0,writable:!0}),r=typeof n,"string"===r?(this.inner_template=t.template(n),this.inner_template_text=n):"function"===r&&(this.inner_template=n,this.inner_template_text="@func")),this._element&&this.refresh()},this.toJSON=function(){var t={__type:this.type(),id:this.id,name:this.name,attributes:this.attributes,controls:this.controls},e=this.outer_template_text;e&&(t.outer_template="@func"===e?""+this.outer_template:this.outer_template_text);var n=this.inner_template_text;return n&&(t.inner_template="@func"===n?""+this.inner_template:this.inner_template_text),t},this.refresh=function(){var t=this._element;if(t)if(t.parentNode)try{var e=this.outerHTML();e!==t.outerHTML&&(this.detachAll(),t.outerHTML=e,this.attachAll())}catch(n){this._element=void 0}else this._element=void 0},this.refreshInner=function(){var t=this._element;t&&(t.innerHTML=this.innerHTML())},this.attach=function(t){this.element="object"==typeof t?t._element||t:document.getElementById(t||this.id)},this.attachAll=function(){this._element||(this.element=document.getElementById(this.id));for(var t=this.controls,e=0,n=t.length;n>e;e++)t[e].attachAll()},this.detach=function(){this.element=void 0},this.detachAll=function(){this.element=void 0;for(var t=this.controls,e=0,n=t.length;n>e;e++)t[e].detachAll()},this.replaceItself=function(t){for(var n=this.controls,r=n.length-1;r>=0;r--)t.add(n.shift());var i=this.parent;if(i){var o=i.controls.indexOf(this);this.parent=void 0,e.call(t,i,o)}else t.parent=void 0;var s=this._element;s?(t.element=s,t.refresh()):t.element=void 0},this.createElement=function(t,e){var n=this._element;if(n)throw new TypeError("Already exists!");if(!t&&this.parent&&(t=this.parent.element,e=0),t){var r=t.insertAdjacentHTML;if(r)switch(e){case 1:r.call(t,"afterbegin",this.outerHTML());break;case 2:r.call(t,"beforebegin",this.outerHTML());break;case 3:r.call(t,"afterend",this.outerHTML());break;default:r.call(t,"beforeend",this.outerHTML())}else{var i=document.createDocumentFragment(),o=document.createElement("div");o.innerHTML=this.outerHTML();for(var s=o.childNodes,a=[],l=0,u=s.length;u>l;l++)a.push(s[l]);for(var l=0,u=a.length;u>l;l++)i.appendChild(a[l]);switch(e){case 1:0===t.childNodes.length?t.appendChild(i):t.insertBefore(t.firstChild,i);break;case 2:var c=t.parentNode;c&&c.insertBefore(i,t);break;case 3:var c=t.parentNode;if(c){var h=t.nextSibling;h?c.insertBefore(i,h):c.appendChild(i)}break;default:t.appendChild(i)}}}this.attachAll()},this.deleteElement=function(){var t=this._element;if(t){var e=t.parentNode;e&&e.removeChild(t),this._element=void 0}},this.deleteAll=function(){this.deleteElement();for(var t=this.controls,e=t.length-1;e>=0;e--)t[e].deleteAll()};var i=",change,DOMActivate,load,unload,abort,error,select,resize,scroll,blur,DOMFocusIn,DOMFocusOut,focus,focusin,focusout,click,dblclick,mousedown,mouseenter,mouseleave,mousemove,mouseover,mouseout,mouseup,wheel,keydown,keypress,keyup,oncontextmenu,compositionstart,compositionupdate,compositionend,DOMAttrModified,DOMCharacterDataModified,DOMNodeInserted,DOMNodeInsertedIntoDocument,DOMNodeRemoved,DOMNodeRemovedFromDocument,DOMSubtreeModified,";this.listen=function(t,e,r,i){if("function"==typeof e&&(i=r,r=e,e=this),!t||!r)return this;var o=n(this,t,i),s="function"==typeof r?r:Function("event",r);return o.addListener(e,s),this},this.addListener=function(t,e,n,r){return this.listen(t,e,n,r)},this.removeListener=function(t,e,r){if(!t||!e)return this;var i=n(this,t,r);return i.removeListener(e),this},this.raise=function(t){if(!t)return!1;var e=this.events;if(e){var n=e["#"+t],r=e[t],i=Array.prototype.slice.call(arguments,1);n&&n.raise.apply(this,i),r&&r.raise.apply(this,i)}},this.parameter=function(t,e){var n=this.parameters;return arguments.length>1?(e!==n[t]&&(n[t]=e,this.refresh()),void 0):n[t]||n["/"+t]},this.attr=function(t,e){var n=this.attributes;return 0===arguments.length?void 0:1===arguments.length?n[t]:(e!==n[t]&&(n[t]=e,this._element&&this.refresh()),void 0)},this.attrs=function(t){var e=this.attributes;if(arguments.length>0){var n=!1;for(var r in t){var i=t[r];i!==e[r]&&(e[r]=i,n=!0)}n&&this._element&&this.refresh()}return e},this.type=function(t,e){if(0===arguments.length){var n=[],r=[],i=this.parameters;for(var s in i)"/"!==s[0]?r.push(s+"="+i[s]):n.push(s.substr(1)+"="+i[s]);var t=this.__type;return n.length>0&&(t+="/"+n.join(";")),r.length>0&&(t+="#"+r.join(";")),t}var i={};if(e&&this.parent){var a=parent.parameters;for(var s in a)"/"===s[0]&&(i[s]=a[s])}var l=o(t,i,this.__type);l&&(this.__type=l),this.parameters=i,this.raise("type")},this.printAttributes=function(t){var e=[],n=this.attributes;if(t)if(t.indexOf(",")>=0&&console.log("printAttributes() Use a space to separate of identifiers"),"-"===t[0]){var r=t.substr(1).split(" ");for(var i in this.attributes)if("$"!==i[0]&&r.indexOf(i)<0){var o=n[i];o&&e.push(i+'="'+o+'"')}}else for(var s=t.split(" "),a=0,l=s.length;l>a;a++){var u=s[a],o=n[u];o&&e.push(u+'="'+o+'"')}else for(var i in n)if("$"!==i[0]){var o=n[i];o&&e.push(i+'="'+o+'"')}return e.length?" "+e.join(" "):""},this.printControls=function(){for(var t=[],e=this.controls,n=0,r=e.length;r>n;n++)t.push(e[n].wrappedHTML());return t.join("")},this.text=function(t){var e=this.attributes;return arguments.length&&t!==e.$text&&(e.$text=t,this.refresh()),e.$text},this.style=function(t){if(arguments.length){var e=this.attributes,n=e.style;if(t!==n){e.style=t;var r=this._element;r&&(r.style=t),this.raise("attributes","style",t)}}return this.attributes.style},this.class=function(t,e){var n=this.attributes;if(t||e){var r=n.class,i=r?r.split(" "):[];if(e){e=e.split(" ");for(var o=0,s=e.length;s>o;o++){var a=e[o],l=i.indexOf(a);l>=0&&i.splice(l,1)}}if(t){t=t.split(" ");for(var o=0,s=t.length;s>o;o++){var u=t[o];i.indexOf(u)<0&&i.push(u)}}if(r=i.join(" "),r!==n.class){n.class=r;var c=this._element;c&&(c.className=r),this.raise("attributes","class",r)}}return n.class},this.insert=function(t,n,r,i,a,l){if(n){if("number"!=typeof r&&(l=a,a=i,i=r,r=1),"function"==typeof i&&(l=a,a=i,i=void 0),Array.isArray(n)){for(var u,c=0,h=n.length;h>c;c++)u=this.add(n[c],r,i,a,l);return u}if("object"==typeof n){var p=n;return p.hasOwnProperty("__type")&&e.call(n,this,t),void 0}var f,d=n.indexOf(":"),v=n.indexOf("{");d>=0&&(0>v||v>d)&&(f=n.substr(0,d),n=n.substr(d+1));var m=this.parameters,y={};for(var _ in m)"/"===_[0]&&(y[_]=m[_]);var g=o(n,y),b=s(g,y);if(!b){if(!L)throw new TypeError("Type "+g+" not registered!");y["#{type}"]=n,y["#{__type}"]=g,y["#{callback}"]=a,y["#{this_arg}"]=l,b=s("controls.Stub",y)}for(var u,c=0;r>c;c++){var $={},x={"class":""};for(var _ in y)$[_]=y[_],"$"===_[0]&&(x[_.substr(1)]=y[_]);if(i)for(var _ in i)x[_]=i[_];var w=new b($,x);f&&(w.name=f),w.raise("type"),e.call(w,this,t),a&&a.call(l||this,w),u=w}return u}},this.add=function(t,e,n,r,i){return this.insert(this.controls.length,t,e,n,r,i)},this.unshift=function(t,e,n,r,i){return this.insert(0,t,e,n,r,i)},this.remove=function(t){return arguments.length?(t&&(t.parent=void 0),void 0):(this.parent=void 0,void 0)},this.removeAll=function(){for(var t=this.controls,e=t.length-1;e>=0;e--)this.remove(t[e])},this.bind=function(t,e){var n=this.data;t!==n&&(this.data=t,n&&(n.removeListener(r),n.unsubscribe(r)),t&&(e?t.subscribe(this,r):t.listen(this,r)),r.call(this))},this.$builder=function(){return y.$builder(this)},this.every=function(t,e){return this.controls.every(t,e||this)},this.filter=function(t,e){return this.controls.filter(t,e||this)},this.forEach=function(t,e){return this.controls.forEach(t,e||this)},this.map=function(t,e){return this.controls.map(t,e||this)},this.some=function(t,e){return this.controls.some(t,e||this)}},y.resolveType=s;var L=0;y.createOrStub=function(){L=1;try{return y.create.apply(this,arguments)}catch(t){}finally{L=0}},y.create=function(t,e,n,r,i){switch(arguments.length){case 0:throw new SyntaxError("Invalid Type argument value!");case 1:n={},e={};break;case 2:"function"==typeof e?(i=n,r=e,n={},e={}):(n=e||{},e={});break;default:"function"==typeof n?(i=r,r=n,n=e||{},e={}):"function"==typeof e?(i=n,r=e,n={},e={}):(n=n||{},e=e||{})}var a=o(t,e),l=s(a,e);if(!l){if(!L)throw new TypeError("Type "+a+" not registered!");e["#{type}"]=t,e["#{__type}"]=a,e["#{callback}"]=r,e["#{this_arg}"]=i,l=s("controls.Stub",e)}n.class||(n.class="");for(var u in e)"$"===u[0]&&(n[u.substr(1)]=e[u]);var c=l.is_constructor?new l(e,n):l(e,n);return c.raise("type"),c},y.$builder=function(t){return this.$move?(this.$default="controls.",this.$context=t,this.$context_stack=[],void 0):new y.$builder(t)},y.$builder.prototype={$move:function(t){this.$context=t},$namespace:function(t){t.indexOf(".")<0&&(t+="."),this.$default=t},$C:function(t,e,n,r,i){var o=this.$context;if(!o)throw new TypeError("$C: context undefined! "+t);return o.add(a(this,t),e,n,r,i)},$$C:function(t,e,n,r,i){"number"!=typeof e&&(i=r,r=n,n=e,e=1),"function"==typeof n&&(i=r,r=n,n=void 0);var o=this.$context;if(!o)throw new TypeError("$builder $$C: context undefined! "+t);var s;return r?(this.$context_stack.push(this.$context),s=o.add(a(this,t),e,n,function(t){this.$context=t,r.call(i||t,t)},this),this.$context=this.$context_stack.pop()):(s=o.add(a(this,t),e,n),this.$context=s),s},$T:function(t,e,n,r,i){"number"!=typeof e&&(i=r,r=n,n=e,e=1),"function"==typeof n&&(i=r,r=n,n=void 0);var o=this.$context;if(!o)throw new TypeError("$T: context undefined!");var s=n||{};return s.$template=t,o.add("controls.Custom",e,s,r,i)},$$T:function(t,e,n,r,i){"number"!=typeof e&&(i=r,r=n,n=e,e=1),"function"==typeof n&&(i=r,r=n,n=void 0);var o=this.$context;if(!o)throw new TypeError("$$T: context undefined! ");var s=n||{};s.$template=t;var a;return r?(this.$context_stack.push(this.$context),a=o.add("controls.Custom",e,s,function(t){this.$context=t,r.call(i||t,t)},this),this.$context=this.$context_stack.pop()):(a=o.add("controls.Custom",e,s),this.$context=a),a},$X:function(t,e,n,r,i){"number"!=typeof e&&(i=r,r=n,n=e,e=1),"function"==typeof n&&(i=r,r=n,n=void 0);var o=this.$context;if(!o)throw new TypeError("$X: context undefined!");var s=n||{};return s.$text=t,o.add("controls.Container",e,s,r,i)},$$X:function(t,e,n,r,i){"number"!=typeof e&&(i=r,r=n,n=e,e=1),"function"==typeof n&&(i=r,r=n,n=void 0);var o=this.$context;if(!o)throw new TypeError("$$X: context undefined!");var s=n||{};s.$text=t;var a;return r?(this.$context_stack.push(this.$context),a=o.add("controls.Container",e,s,function(t){this.$context=t,r.call(i||t,t)},this),this.$context=this.$context_stack.pop()):(a=o.add("controls.Container",e,s),this.$context=a),a},$E:function(t,e,n,r,i){return this.$X(y.encodeHTML(t),e,n,r,i)},$$E:function(t,e,n,r,i){return this.$$X(y.encodeHTML(t),e,n,r,i)},$encode:function(t){return y.encodeHTML(t)},forEach:function(t,e){var n=this.$context;n&&n.controls.forEach(t,e||this)},$$forEach:function(t,e){var n=this.$context;if(n){this.$context_stack.push(this.$context);var r=n.controls;for(var i in r){var n=r[i];this.$context=n,t.call(e||this,n)}this.$context=this.$context_stack.pop()}}},y.defCommand=function(t,e){y.$builder.prototype[t]=e},"p".split(",").forEach(function(t){y.defCommand("$"+t,function(e,n,r){this.$C(t,{$text:e,"class":n,style:r})}),y.defCommand("$$"+t,function(e,n,r){this.$$C(t,{$text:e,"class":n,style:r})})}),"h1,h2,h3,h4,h5,h6".split(",").forEach(function(t){y.defCommand("$"+t,function(e,n,r,i){n&&(n=n.replace(/ /g,"-")),this.$C(t,{$text:e,id:n,"class":r,style:i})}),y.defCommand("$$"+t,function(e,n,r,i){n&&(n=n.replace(/ /g,"-")),this.$$C(t,{$text:e,id:n,"class":r,style:i})})}),y.reviverJSON=function(t,e){if("object"==typeof e&&null!==e&&e.hasOwnProperty("__type")){var n={},r=o(e.__type,n),i=s(r,n);if(!i)throw new TypeError("controls.reviverJSON(): "+r+" constructor not registered!");var a,l=i.revive;return a=l?l(i,n,e):y.reviveControl(i,n,e),a.raise("type"),a}return e},y.revive=function A(t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];(Array.isArray(n)||"object"==typeof n&&n.hasOwnProperty("__type"))&&(t[e]=A(n))}"object"==typeof t&&t.hasOwnProperty("__type")&&(t=reviverJSON(null,t))}return t},y.reviveControl=function(t,e,n){if(n){var r=new t(e,n.attributes);return n.controls&&(r.controls=n.controls),n.template&&r.template(n.template),r}},y.decodeHTML=function(t){return t?t.replace(x,function(t){return String.fromCharCode(parseInt(t.slice(2)))}):t},y.encodeHTML=function(t){return t?t.replace(g,function(t){return b[t]||t}):t},y.extend=function(t,e){for(var n in e)t[n]=e[n];return t},y.delay=function(t,e){return setTimeout(function(){return t.apply(null,Array.prototype.slice.call(arguments,2))},e)},function(){function t(t,e){return"function c"+t+"(p, a) { controls.controlInitialize(this, 'controls."+t+"', p, a, c"+t+".outer_template); }c"+t+".prototype = controls.control_prototype;"+(e?"c"+t+".outer_template = function(it) { return '<"+t+"' + it.printAttributes() + '>' + (it.attributes.$text || '') + it.printControls() + '</"+t+">'; };":"c"+t+".outer_template = function(it) { return '<"+t+"' + it.printAttributes() + '>'; };")+"controls.typeRegister('controls."+t+"', c"+t+");"}Function("controls","A,Abbr,Address,Article,Aside,B,Base,Bdi,Bdo,Blockquote,Button,Canvas,Cite,Code,Col,Colgroup,Command,Datalist,Dd,Del,Details,Dfn,Div,Dl,Dt,Em,Embed,Fieldset,Figcaption,Figure,Footer,Form,Gnome,H1,H2,H3,H4,H5,H6,Header,I,IFrame,Img,Ins,Kbd,Keygen,Label,Legend,Li,Link,Map,Mark,Menu,Meter,Nav,Noscript,Object,Ol,Optgroup,Option,Output,P,Pre,Progress,Ruby,Rt,Rp,S,Samp,Script,Section,Small,Span,Strong,Style,Sub,Summary,Sup,Table,TBody,Td,Textarea,Tfoot,Th,Thead,Time,Title,Tr,U,Ul,Var,Video,Wbr".split(",").map(function(e){return t(e.toLowerCase(),!0)}).join(""))(y),Function("controls","Area,Hr,Meta,Param,Source,Track".split(",").map(function(e){return t(e.toLowerCase(),!1)}).join(""))(y)}(),l.prototype=y.control_prototype,y.typeRegister("controls.Container",l),u.prototype=y.control_prototype,y.typeRegister("controls.Custom",u),c.prototype=y.control_prototype,y.typeRegister("controls.Stub",c),h.prototype=y.control_prototype,h.template=function(t){return"<head>"+(t.attributes.$text||"")+t.printControls()+"</head>"},y.typeRegister("controls.head",h),p.prototype=y.control_prototype,p.template=function(t){return"<body"+t.printAttributes("-id")+">"+(t.attributes.$text||"")+t.printControls()+"</body>"},y.typeRegister("controls.body",p),f.prototype=y.control_prototype,f.template=t.template('<div{{=it.printAttributes()}}>{{~it.controls :value:index}}<div data-type="layout-item"{{=it.cellSet.printAttributes("-id")}}>{{=value.wrappedHTML()}}</div>{{~}}{{?it.clearfix}}<div style="clear:both;"></div>{{?}}</div>'),y.typeRegister("controls.Layout",f),d.prototype=y.control_prototype,d.template=t.template('<ul{{=it.printAttributes()}}>{{~it.controls :value:index}}<li{{=it.itemSet.printAttributes("-id")}}>{{=value.wrappedHTML()}}</li>{{~}}</ul>'),y.typeRegister("controls.List",d),v.prototype=y.control_prototype,v.template=function(t){return"<input"+t.printAttributes()+">"+(t.attributes.$text||"")+"</input>"
},y.typeRegister("controls.Input",v),m.prototype=y.control_prototype,m.template=function(t){return"<select"+t.printAttributes()+">"+(t.attributes.$text||"")+t.data.map(function(t){return"<option value="+t+">"+t+"</option>"}).join("")+"</select>"},m.inner_template=function(t){return(t.attributes.$text||"")+t.data.map(function(t){return"<option value="+t+">"+t+"</option>"}).join("")},y.typeRegister("controls.Select",m)}var r="0.6.10";if("undefined"!=typeof e&&"function"==typeof t&&e.exports)e.exports=new n(t("dot")),"undefined"!=typeof window&&(window.controls=e.exports);else if("function"==typeof define&&define.amd){var i;define(["doT"],function(t){return i||(i=new n(t)),i})}else if(!this.controls||this.controls.VERSION<r){if("undefined"==typeof doT)throw new TypeError("controls.js: doT.js not found!");this.controls=new n(doT)}}).call(function(){return this||("undefined"!=typeof window?window:n)}())},{dot:2}],4:[function(){},{}]},{},[3]);