!function t(e,r,i){function n(a,o){if(!r[a]){if(!e[a]){var l="function"==typeof require&&require;if(!o&&l)return l(a,!0);if(s)return s(a,!0);throw new Error("Cannot find module '"+a+"'")}var u=r[a]={exports:{}};e[a][0].call(u.exports,function(t){var r=e[a][1][t];return n(r?r:t)},u,u.exports,t,e,r,i)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(t,e){!function(){"use strict";function t(t,e,r){var i=t.events;i||(t.events=i={});var n=r?"#"+e:e,s=i[n];if(!s&&(i[n]=s=new y.Event(t,e,r),s.is_dom_event)){var a=t._element;a&&a.addEventListener(e,s.raise,r)}return s}function r(){this.state_id=Number.MIN_VALUE}function i(){}function n(t,e){var r=[];if(e){var i=e.$data;if(i)for(var n=0,s=i.length;s>n;n++)r[n]=i[n]}for(var a in A)r[a]=A[a];for(var a in L)r[a]=L[a];if(r.state_id=Number.MIN_VALUE,r.last_operation=0,r.last_changed=void 0,t&&t.adapter&&(this.adapter=y.create(t.adapter),!this.adapter))throw new TypeError('Invalid data adapter type "'+t.adapter+'"!');return r}function s(t){if("function"==typeof t){t=t.toString();var e=t.indexOf("{"),r=t.lastIndexOf("}");return t.substr(e+1,r-e-1)}return t}function a(t,e,r){var i=0,n=t.indexOf(":"),s=t.indexOf("."),a=t.indexOf("`"),o=t.indexOf("#"),l=t.indexOf("/"),u=t.indexOf("{");s>=0&&n>s&&(n=-1),a>=0&&(n>a&&(n=-1),s>a&&(s=-1)),o>=0&&(n>o&&(n=-1),s>o&&(s=-1),a>o&&(a=-1)),l>=0&&(n>l&&(n=-1),s>l&&(s=-1),a>l&&(a=-1)),u>=0&&(n>u&&(n=-1),s>u&&(s=-1),a>u&&(a=-1),l>u&&(l=-1)),n>=0&&(r&&(r.$name=t.substr(0,n)),i=n+1);var h;s>=0&&(h=t.substr(i,1+s-i),i=s+1),h||(h="controls.");var c=o;(0>c||l>=0&&c>l)&&(c=l),(0>c||u>=0&&c>u)&&(c=u);var p=h+t.substr(i,(a>=0?a:c>=0?c:t.length)-i);if(r){var f=0>a?"":c>=0?t.substr(a+1,c-a-1):t.substr(a+1);(f||!f.hasOwnProperty("class"))&&(r.class=r.class?r.class+" "+f:f)}if(u>=0){var v=t.lastIndexOf("}");e["#{href}"]=t.substr(u+1,v>=0?v-u-1:t.length-u-1)}if(l>=0)for(var d=t.substr(l+1,(o>l?o:u>l?u:t.length)-l-1).split(";"),m=0,y=d.length;y>m;m++){var _=d[m],b=_.indexOf("=");b>=0?e["/"+_.substr(0,b)]=_.substr(b+1):e["/"+_]=!0}if(o>=0)for(var g=t.substr(o+1,(l>o?l:u>o?u:t.length)-o-1).split(";"),m=0,y=g.length;y>m;m++){var _=g[m],b=_.indexOf("=");b>=0?e[_.substr(0,b)]=_.substr(b+1):e[_]=!0}return p}function o(t,e){var r;t=t.toLowerCase();var i=y.subtypes[t];if(i)for(var n=0,s=i.length;s>n;n++){var a=i[n],l=!0;for(var u in e)if("__ctr,??".indexOf(u)<0&&a[u]!==e[u]){l=!1;break}if(l){r=a.__ctr;break}}if(!r&&(r=y[t],r&&r.isAlias&&r.__type!==t)){var h=r.parameters;for(var u in h)e[u]=h[u];r=o(r.__type,e)}return r}function l(t,e){y.controlInitialize(this,"controls.container",t,e,y.default_inner_template)}function u(t,e){e.$prime&&(e.$template=e.$prime,delete e.$prime),y.controlInitialize(this,"controls.custom",t,e,e.$template||e.$outer_template,e.$inner_template)}function h(t,e){this.isStub=!0,y.controlInitialize(this,"controls.stub",t,e,function(t){return"<div"+t.printAttributes()+">"+t.printControls()+"</div>"}),this.class("stub");var r=0;Object.defineProperty(this,"state",{enumerable:!0,get:function(){return r},set:function(t){t!==r&&(r=t,0===t?this.class(null,"stub-loading stub-error"):0>t?this.class("stub-error","stub-loading"):this.class("stub-loading","stub-error"),this.raise("state"),this.state>0&&this.tryReplace())}}),this.tryReplace=function(){var t=this.parameters,e={},r={},i=this.attributes;for(var n in t)"#"!==n[0]&&"{"!==n[1]&&(e[n]=t[n]);for(var n in i)r[n]=i[n];var s=y.create(t["#{type}"],e,r);s&&(s.class(null,"stub stub-loading stub-error"),this.replaceItself(s),this.raise("control",s))}}function c(t,e){y.controlInitialize(this,"controls.head",t,e,c.template),this.attach=function(){return this.element=document.head,this},this.attachAll=function(){return this.element=document.head,c.prototype.attachAll.call(this)}}function p(t,e){y.controlInitialize(this,"controls.body",t,e,p.template),this.attach=function(){return this.element=document.body,this},this.attachAll=function(){return this.element=document.body,p.prototype.attachAll.call(this)}}function f(t,e){this.initialize("controls.layout",t,e,f.template);var r=!1;this.cellSet=new l,this.cellSet.listen_("attributes",this,function(t){var e=t.name,r=t.value,i=void 0===r||null===r,n=this._element;if(n)for(var s=n.childNodes,a=s.length-1;a>=0;a--){var o=s[a];i?o.removeAttribute(e):o.setAttribute(e,r)}}),this.listen_("type",function(){var t,e=this.parameters;for(var i in e)("float"===i||"/float"===i)&&(t=e[i]);t&&this.cellSet.style("float:"+t),r=t})}function v(t,e){this.initialize("controls.list",t,e,v.template),this.itemSet=new l,this.itemSet.listen_("attributes",this,function(t){var e=t.name,r=t.value,i=void 0===r||null===r,n=this._element;if(n)for(var s=n.childNodes,a=s.length-1;a>=0;a--){var o=s[a];i?o.removeAttribute(e):o.setAttribute(e,r)}})}function d(t,e){this.initialize("controls.input",t,e,d.template).listen_("change",function(){this.attributes.value=this.element.value},!0).listen_("element",function(t){t&&(t.value=this.attributes.value||"")}),Object.defineProperty(this,"value",{get:function(){return this.attributes.value},set:function(t){var e=this._element;this.attributes.value=t,e&&(e.value=t)}})}function m(t,e){this.initialize("controls.select",t,e,m.template,m.inner_template).bind(e.hasOwnProperty("$data")?y.create("DataArray",{$data:e.$data}):y.create("DataArray")).listen_("data",this.refreshInner).listen_("change",function(){this.attributes.value=this.element.value},!0).listen_("element",function(t){t&&(t.value=this.attributes.value)}),Object.defineProperty(this,"value",{get:function(){return this.attributes.value},set:function(t){var e=this._element;this.attributes.value=t,e&&(e.value=t)}})}var y={VERSION:"0.6.14",id_generator:53504,template:function(t){return new Function("return '"+t.replace(/'/g,"\\'")+"'")},subtypes:{}},_=",add,attach,attributes,class,data,element,first,id,__type,controls,last,name,each,forEach,parameters,parent,remove,style,",b=/&(?!#?\w+;)|<|>|"|'|\//g,g={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;","/":"&#47;"},w=/&#(\d{1,8});/g;y.controlInitialize=function(t,e,r,i,n,s){if(i)t.name=i.$name,t.id=i.id?i.id:i.id=(++y.id_generator).toString(16),i.hasOwnProperty("$prime")&&(i.$text=i.$prime,delete i.$prime),t.attributes=i;else{var a=t.id=(++y.id_generator).toString(16);t.attributes={id:a}}return t.__type=e,t.parameters=r||{},t.controls=[],n&&Object.defineProperty(t,"outer_template",{enumerable:!0,writable:!0,value:n}),s&&Object.defineProperty(t,"inner_template",{enumerable:!0,writable:!0,value:s}),t},y.typeRegister=function(t,e,r){y.factoryRegister(t,e),e.is_constructor=!0,e.revive=r},y.factoryRegister=function(t,e){var r={},i=a(t,r).toLowerCase();if(i.length<t.length){var n=y.subtypes[i];n||(n=[],y.subtypes[i]=n),r.__ctr=e,n.push(r)}else{if(y[i])throw new TypeError("Type "+t+" already registered!");y[i]=e}},y.typeAlias=function(t,e){var r={},i=a(e,r).toLowerCase(),n=o(i,r);if(!n)throw new TypeError("Type "+i+" not registered!");y[t.toLowerCase()]={__type:i,parameters:r,isAlias:!0}},y.parse=function(t){try{return JSON.parse(t)||{}}catch(e){console.log(e)}return{}};var O=",change,DOMActivate,load,unload,abort,error,select,resize,scroll,blur,DOMFocusIn,DOMFocusOut,focus,focusin,focusout,click,dblclick,mousedown,mouseenter,mouseleave,mousemove,mouseover,mouseout,mouseup,wheel,keydown,keypress,keyup,oncontextmenu,compositionstart,compositionupdate,compositionend,DOMAttrModified,DOMCharacterDataModified,DOMNodeInserted,DOMNodeInsertedIntoDocument,DOMNodeRemoved,DOMNodeRemovedFromDocument,DOMSubtreeModified,";y.Event=function(t,e,r,i){var n=this.listeners=[],s=this.call_this=t;if(this.type=e,this.capture=r,this.is_dom_event=O.indexOf(","+e+",")>=0,i)for(var a=0,o=i.length;o>a;a+=2){var l=i[a];n.push("function"==typeof l?l:Function("event",l));var u=i[a+1];n.push(u===s?null:s)}this.raise=function(){for(var t=0,e=n.length;e>t;t+=2)n[t].apply(n[t+1]||s,arguments)}},y.Event.prototype={addListener:function(t,e){arguments.length>1?this.listeners.push(e,t===this.call_this?null:t):this.listeners.push(t,null)},removeListener:function(t){var e=this.listeners,r=e.indexOf(t);r>=0&&e.splice(r,2)},clear:function(){this.listeners.length=0},toJSON:function(){for(var t=[],e=this.listeners,r=0,i=e.length;i>r;r+=2){{var n=e[r];e[r+1]}n.no_serialize||(t.push(s(n)),t.push())}return{type:this.type,capture:this.capture,listeners:t}}};var x=[];setInterval(function(){if(x.length>0)for(var t=0,e=x.length;e>t;t++){try{x[t].post_event.raise()}catch(r){console.log(r)}x.length=0}},30);var A={listen:function(){var t=this.event||(this.event=new y.Event(this));return t.addListener.apply(t,arguments),this},listen_:function(t,e){return"function"==typeof e?e.no_serialize=!0:t.no_serialize=!0,this.listen.apply(this,arguments)},removeListener:function(t){var e=this.event;return e&&e.removeListener(t),this},subscribe:function(t,e){if("function"==typeof t&&(e=t,t=this),!e)return this;var r=this.post_event||(this.post_event=new y.Event(this));return r.addListener.apply(r,arguments),this},unsubscribe:function(t){var e=this.post_event;return e&&e.removeListener(t),this},raise:function(){var t=this.event;t&&t.raise.apply(this,arguments);var e=this.post_event;if(e){var r=x.indexOf(this);(0>r||r!==x.length-1)&&(r>=0&&x.splice(r,1),x.push(this))}},set:function(t,e){this.state_id++,this[t]=e,this.last_name=t,this.raise()},setx:function(t){var e;for(var r in t)t.hasOwnProperty(r)&&(e=!0,this.state_id++,this[r]=t[r],this.last_name=t);e&&this.raise()}};r.prototype=A,y.typeRegister("DataObject",r);var L={push:function(){for(var t=Object.getPrototypeOf(this),e=0,r=arguments.length;r>e;e++)t.push.call(this,arguments[e]);this.state_id+=r,this.last_operation=1,this.last_index=this.length-1,this.raise(this)}};i.prototype={raise:function(){}},y.typeRegister("LocalStorage",i),y.factoryRegister("DataArray",n),y.control_prototype=new function(){function e(t,e){var r=this._parent;if(t!==r){this._parent=t;var i=this._name;if(r){var n=r.controls,e=n.indexOf(this);e>=0&&n.splice(e,1),i&&r.hasOwnProperty(i)&&r[i]===this&&delete r[i]}if(t){var s=t.controls;void 0===e?s.push(this):s.splice(e,0,this),i&&(t[i]=this)}this.raise("parent",t)}}function r(){var t=Array.prototype.slice.call(arguments);t.unshift("data"),this.raise.apply(this,t)}this.initialize=function(t,e,r,i,n){return y.controlInitialize(this,t,e,r,i,n)},Object.defineProperty(this,"name",{enumerable:!0,get:function(){return this._name},set:function(t){if(_.indexOf(","+t+",")>=0)throw new SyntaxError('Invalid name "'+t+'"!');var e=this._name;if(t!==e){this._name=t;var r=this._parent;r&&(e&&r.hasOwnProperty(e)&&r[e]===this&&delete r[e],t&&(r[t]=this))}}}),Object.defineProperty(this,"element",{enumerable:!0,get:function(){return this._element},set:function(t){if(0===arguments.length)return this._element;var e=this._element;if(t!==e){this._element=t;var r=this.events;if(r)for(var i in r){var n=r[i];n.is_dom_event&&(e&&e.removeEventListener(n.type,n.raise,n.capture),t&&t.addEventListener(n.type,n.raise,n.capture))}this.raise("element",t)}}}),Object.defineProperties(this,{parent:{enumerable:!0,get:function(){return this._parent},set:e},wrapper:{enumerable:!0,get:function(){return this._wrapper},set:function(t){var e=this._wrapper;if(t!==e){if(this._wrapper=t,e){var r=e.controls,i=r.indexOf(this);i>=0&&r.splice(i,1)}if(t){var n=t.controls;n.push(this)}}}},length:{enumerable:!0,get:function(){return this.controls.length}},first:{enumerable:!0,get:function(){return this.controls[0]}},last:{enumerable:!0,get:function(){return this.controls[this.controls.length-1]}}}),this.outer_template=function(t){return"<div"+t.printAttributes()+">"+(t.attributes.$text||"")+t.printControls()+"</div>"},y.default_outer_template=this.outer_template,this.inner_template=function(t){return(t.attributes.$text||"")+t.printControls()},y.default_inner_template=this.inner_template,this.outer_inline_template=function(t){return"<span"+t.printAttributes()+">"+(t.attributes.$text||"")+t.printControls()+"</span>"},y.default_outer_inline_template=this.outer_inline_template,this.innerHTML=function(){return this.inner_template(this)},this.outerHTML=function(){return this.outer_template(this)},this.wrappedHTML=function(){var t=this._wrapper;return t?t.wrappedHTML():this.outerHTML()},this.template=function(t,e){return t&&("string"==typeof t&&(t=y.template(t)),this.hasOwnProperty("outer_template")?this.outer_template=t:Object.defineProperty(this,"outer_template",{configurable:!0,enumerable:!0,writable:!0,value:t})),e&&("string"==typeof t&&(e=y.template(e)),this.hasOwnProperty("inner_template")?this.inner_template=e:Object.defineProperty(this,"inner_template",{configurable:!0,enumerable:!0,writable:!0,value:e})),this},this.toJSON=function(){var t={__type:this.type(),attributes:this.attributes},e=this.name;e&&(t.name=e);var r=this.controls;r.length&&(t.controls=r),this.hasOwnProperty("outer_template")&&(t.outer_template=s(this.outer_template)),this.hasOwnProperty("inner_template")&&(t.inner_template=s(this.inner_template));var i=this.events;if(i){var n=[];for(var a in i){for(var o=i[a],l=o.listeners,u=!1,h=0,c=l.length;c>h;h+=2)if(!l[h].no_serialize){u=!0;break}u&&n.push(o)}n.length&&(t.events=n)}return t},this.refresh=function(){var t=this._element;if(t)if(t.parentNode)try{var e=this.outerHTML();e!==t.outerHTML&&(this.detachAll(),t.outerHTML=e,this.attachAll())}catch(r){this._element=void 0}else this._element=void 0;return this},this.refreshInner=function(){var t=this._element;return t&&(t.innerHTML=this.innerHTML()),this},this.attach=function(t){return this.element=arguments.length?"string"==typeof t?document.getElementById(t):t&&(t._element||t):document.getElementById(this.id),this},this.attachAll=function(){this._element||(this.element=document.getElementById(this.id));for(var t=this.controls,e=0,r=t.length;r>e;e++)t[e].attachAll();return this},this.detach=function(){return this.element=void 0,this},this.detachAll=function(){this.element=void 0;for(var t=this.controls,e=0,r=t.length;r>e;e++)t[e].detachAll();return this},this.replaceItself=function(t){for(var r=this.controls,i=r.length-1;i>=0;i--)t.add(r.shift());var n=this.parent;if(n){var s=n.controls.indexOf(this);this.parent=void 0,e.call(t,n,s)}else t.parent=void 0;var a=this._element;a?(t.element=a,t.refresh()):t.element=void 0},this.createElement=function(t,e){var r=this._element,i=this.parent;if(r)throw new TypeError("Element already exists!");if(!t&&i&&(t=i.element,e=0),!t)throw new TypeError("Failed to create element!");if(t.insertAdjacentHTML){var n;switch(e){case 1:n="afterbegin";break;case 2:n="beforebegin";break;case 3:n="afterend";break;default:n="beforeend"}t.insertAdjacentHTML(n,this.outerHTML())}else{var s=document.createDocumentFragment(),a=document.createElement("div");a.innerHTML=this.outerHTML();for(var o=Array.prototype.slice.call(a.childNodes),l=0,u=o.length;u>l;l++)s.appendChild(o[l]);switch(e){case 1:0===t.childNodes.length?t.appendChild(s):t.insertBefore(t.firstChild,s);break;case 2:var h=t.parentNode;h&&h.insertBefore(s,t);break;case 3:var h=t.parentNode;if(h){var c=t.nextSibling;c?h.insertBefore(s,c):h.appendChild(s)}break;default:t.appendChild(s)}}return this.attachAll()},this.deleteElement=function(){var t=this._element;if(t){var e=t.parentNode;e&&e.removeChild(t),this._element=void 0}return this},this.deleteAll=function(){this.deleteElement();for(var t=this.controls,e=t.length-1;e>=0;e--)t[e].deleteAll();return this},this.listen=function(e,r,i,n){return"function"==typeof r&&(n=i,i=r,r=null),e&&i&&t(this,e,n).addListener(r,i),this},this.listen_=function(e,r,i,n){return"function"==typeof r&&(n=i,i=r,r=null),e&&i&&(t(this,e,n).addListener(r,i),i.no_serialize=!0),this},this.addListener=function(t,e,r,i){return this.listen(t,e,r,i)},this.removeListener=function(e,r,i){return e&&r&&t(this,e,i).removeListener(r),this},this.raise=function(t){var e=this.events;if(t&&e){var r=e["#"+t],i=e[t],n=Array.prototype.slice.call(arguments,1);r&&r.raise.apply(this,n),i&&i.raise.apply(this,n)}return this},this.parameter=function(t,e){var r=this.parameters;return arguments.length>1?(e!==r[t]&&(r[t]=e,this.refresh()),void 0):r[t]||r["/"+t]},this._parameter=function(t,e){return this.parameter(t,e),this},this.attr=function(t,e){var r=this.attributes;return 0===arguments.length?void 0:1===arguments.length?r[t]:(e!==r[t]&&(r[t]=e,this._element&&this.refresh()),void 0)},this._attr=function(t,e){return this.attr(t,e),this},this.attrs=function(t){var e=this.attributes;if(arguments.length>0){var r=!1;for(var i in t){var n=t[i];n!==e[i]&&(e[i]=n,r=!0)}r&&this._element&&this.refresh()}return e},this._attrs=function(t){return this.attrs(t),this},this.type=function(t,e){if(!arguments.length){var r="",i="",n=this.parameters;for(var s in n)"/"!==s[0]?(i&&(i+=";"),i+=s+"="+n[s]):(r&&(r+=";"),r+=s.substr(1)+"="+n[s]);var t=this.__type;return r&&(t+="/"+r),i.length>0&&(t+="#"+i),t}var n=this.parameters;for(var s in n)delete n[s];if(e&&this.parent){var o=parent.parameters;for(var s in o)"/"===s[0]&&(n[s]=o[s])}this.__type=a(t,n,this.attributes)||this.__type,this.raise("type")},this._type=function(t,e){return this.type(t,e),this},this.printAttributes=function(t){var e="",r=this.attributes;if(t)if(t.indexOf(",")>=0&&console.log("printAttributes() Use a space to separate of identifiers"),"-"===t[0]){var i=t.substr(1).split(" ");for(var n in r)if("$"!==n[0]&&i.indexOf(n)<0){var s=r[n];s&&(e+=" "+n+'="'+s+'"')}}else for(var a=t.split(" "),o=0,l=a.length;l>o;o++){var u=a[o],s=r[u];s&&(e+=" "+u+'="'+s+'"')}else for(var n in r)if("$"!==n[0]){var s=r[n];s&&(e+=" "+n+'="'+s+'"')}return e},this.printControls=function(){for(var t="",e=this.controls,r=0,i=e.length;i>r;r++)t+=e[r].wrappedHTML();return t},this.text=function(t){var e=this.attributes;return arguments.length&&t!==e.$text&&(e.$text=t,this.refresh()),e.$text},this._text=function(t){return this.text(t),this},this.style=function(t){var e=this.attributes;if(arguments.length){if(t!==e.style){e.style=t;var r=this._element;r&&(r.style=t),this.raise("attributes","style",t)}return t}return e.style},this._style=function(t){return this.style(t),this},this.class=function(t,e){var r=this.attributes;if(t||e){var i=r.class,n=i?i.split(" "):[];if(e){e=e.split(" ");for(var s=0,a=e.length;a>s;s++){var o=e[s],l=n.indexOf(o);l>=0&&n.splice(l,1)}}if(t){t=t.split(" ");for(var s=0,a=t.length;a>s;s++){var u=t[s];n.indexOf(u)<0&&n.push(u)}}if(i=n.join(" "),i!==r.class){r.class=i;var h=this._element;h&&(h.className=i),this.raise("attributes","class",i)}}return r.class},this._class=function(t,e){return this.class(t,e),this},this.insert=function(t,r,i,n,s,l){if(r){if("function"==typeof i&&(l=n,s=i,i=void 0,n=void 0),i instanceof Object&&(l=s,s=n,n=i,i=void 0),"function"==typeof n&&(l=s,s=n,n=void 0),Array.isArray(r)){for(var u,h=t,c=t+r.length;c>h;h++)u=this.insert(h,r[h],i,n,s,l);return u}if("object"==typeof r){var p=r;return p.hasOwnProperty("__type")&&e.call(r,this,t),p}var f={"class":""},v={};for(var d in n)f[d]=n[d];var m=this.parameters;for(var d in m)"/"===d[0]&&(v[d]=m[d]);var y=a(r,v,f),_=o(y,v,n);if(i&&(f.$prime=i),!_){if(!M)throw new TypeError("Type "+y+" not registered!");v["#{type}"]=r,v["#{__type}"]=y,v["#{callback}"]=s,v["#{this_arg}"]=l,_=o("controls.stub",v)}for(var d in v)"$"===d[0]&&(f[d.substr(1)]=v[d]);var b=new _(v,f);return b.raise("type"),e.call(b,this,t),s&&s.call(l||this,b),b}},this.add=function(t,e,r,i,n){return this.insert(this.controls.length,t,e,r,i,n)},this._add=function(t,e,r,i,n){return this.insert(this.controls.length,t,e,r,i,n),this},this.unshift=function(t,e,r,i,n){return this.insert(0,t,e,r,i,n)},this._unshift=function(t,e,r,i,n){return this.insert(0,t,e,r,i,n),this},this.remove=function(t){return arguments.length?(t&&(t.parent=void 0),this):(this.parent=void 0,void 0)},this.removeAll=function(){for(var t=this.controls,e=t.length-1;e>=0;e--)this.remove(t[e]);return this},this.bind=function(t,e){var i=this.data;return t!==i&&(this.data=t,i&&(i.removeListener(r),i.unsubscribe(r)),t&&(e?t.subscribe(this,r):t.listen_(this,r)),r.call(this)),this},this.every=function(t,e){return this.controls.every(t,e||this)},this.filter=function(t,e){return this.controls.filter(t,e||this)},this.each=this.forEach=function(t,e){return this.controls.forEach(t,e||this)},this.map=function(t,e){return this.controls.map(t,e||this)},this.some=function(t,e){return this.controls.some(t,e||this)}},y.resolveType=o;var M=0;y.createOrStub=function(){M=1;try{return y.create.apply(this,arguments)}catch(t){}finally{M=0}},y.create=function(t,e,r,i,n,s){var l=arguments.length;("string"!=typeof e||e instanceof Object)&&(s=n,n=i,i=r,r=e,e=void 0,l++),"function"==typeof r?(s=i,n=r,r={},i={},l+=2):"function"==typeof i&&(s=n,n=i,i=r,r={},l++),3===l&&(i=r,r={}),r=r||{},i=i||{};var u=a(t,r,i),h=o(u,r);if(e&&(i.$prime=e),!h){if(!M)throw new TypeError("Type "+u+" not registered!");r["#{type}"]=t,r["#{__type}"]=u,r["#{callback}"]=n,r["#{this_arg}"]=s,h=o("controls.Stub",r)}for(var c in r)"$"===c[0]&&(i[c.substr(1)]=r[c]);var p=h.is_constructor?new h(r,i):h(r,i);return p.raise("type"),p},y.reviverJSON=function(t,e){if("object"==typeof e&&null!==e&&e.hasOwnProperty("__type")){var r={},i=a(e.__type,r),n=o(i,r);n||(console.log("controls.reviverJSON(): "+i+" constructor not registered!"),r["#{type}"]=e.__type,r["#{__type}"]=i,n=o("controls.stub",r));var s,l=n.revive;return s=l?l(n,r,e):y.reviveControl(n,r,e),s.raise("type"),s}return e},y.revive=function $(t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];(Array.isArray(r)||"object"==typeof r&&r.hasOwnProperty("__type"))&&(t[e]=$(r))}"object"==typeof t&&t.hasOwnProperty("__type")&&(t=reviverJSON(null,t))}return t},y.reviveControl=function(t,e,r){if(r){var i=t.is_constructor?new t(e,r.attributes):t(e,r.attributes);r.controls&&(i.controls=r.controls);var n=r.outer_template;n&&i.template(new Function("it",n));var s=r.inner_template;s&&i.template(null,new Function("it",s));var a=r.events;if(a)for(var o=i.events={},l=0,u=a.length;u>l;l++){var h=a[l];o[h.capture?"#"+h.type:h.type]=new y.Event(i,h.type,h.capture,h.listeners)}return i}},y.decodeHTML=function(t){return t?t.replace(w,function(t){return String.fromCharCode(parseInt(t.slice(2)))}):t},y.encodeHTML=function(t){return t?t.replace(b,function(t){return g[t]||t}):t},y.extend=function(t,e){for(var r in e)t[r]=e[r];return t},y.delay=function(t,e){return setTimeout(function(){return t.apply(null,Array.prototype.slice.call(arguments,2))},e)},function(){function t(t,e){return"\nfunction c"+t+"(p, a) { controls.controlInitialize(this, 'controls."+t+"', p, a, c"+t+".outer_template); }\nc"+t+".prototype = controls.control_prototype;\n"+(e?"c"+t+".outer_template = function(it) { return '<"+t+"' + it.printAttributes() + '>' + (it.attributes.$text || '') + it.printControls() + '</"+t+">'; };\n":"c"+t+".outer_template = function(it) { return '<"+t+"' + it.printAttributes() + '>'; };\n")+"controls.typeRegister('"+t+"', c"+t+");\n"}Function("controls","a,abbr,address,article,aside,b,base,bdi,bdo,blockquote,button,canvas,cite,code,col,colgroup,command,datalist,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,gnome,h1,h2,h3,h4,h5,h6,header,i,iframe,img,ins,kbd,keygen,label,legend,li,link,map,mark,menu,meter,nav,noscript,object,ol,optgroup,option,output,p,pre,progress,ruby,rt,rp,s,samp,script,section,small,span,strong,style,sub,summary,sup,table,tbody,td,textarea,tfoot,th,thead,time,title,tr,u,ul,var,video,wbr".split(",").map(function(e){return t(e.toLowerCase(),!0)}).join(""))(y),Function("controls","area,hr,meta,param,source,track".split(",").map(function(e){return t(e.toLowerCase(),!1)}).join(""))(y)}(),l.prototype=y.control_prototype,y.typeRegister("container",l),u.prototype=y.control_prototype,y.typeRegister("custom",u),h.prototype=y.control_prototype,y.typeRegister("stub",h),c.prototype=y.control_prototype,c.template=function(t){return"<head>"+(t.attributes.$text||"")+t.printControls()+"</head>"},y.typeRegister("head",c),p.prototype=y.control_prototype,p.template=function(t){return"<body"+t.printAttributes("-id")+">"+(t.attributes.$text||"")+t.printControls()+"</body>"},y.typeRegister("body",p),f.prototype=y.control_prototype,f.template=function(t){for(var e="<div"+t.printAttributes()+">",r=t.controls,i='<div data-type="layout-item"'+t.cellSet.printAttributes("-id")+">",n=0,s=r.length;s>n;n++)e+=i+r[n].wrappedHTML()+"</div>";return e+t.clearfix?'<div style="clear:both;"></div></div>':"</div>"},y.typeRegister("layout",f),v.prototype=y.control_prototype,v.template=function(t){for(var e="<ul"+t.printAttributes()+">",r=t.controls,i="<li"+t.itemSet.printAttributes("-id")+">",n=0,s=r.length;s>n;n++)e+=i+r[n].wrappedHTML()+"</li>";return e+"</ul>"},y.typeRegister("list",v),d.prototype=y.control_prototype,d.template=function(t){return"<input"+t.printAttributes()+">"+(t.attributes.$text||"")+"</input>"},y.typeRegister("input",d),m.prototype=y.control_prototype,m.template=function(t){return"<select"+t.printAttributes()+">"+(t.attributes.$text||"")+t.data.map(function(t){return"<option value="+t+">"+t+"</option>"}).join("")+"</select>"},m.inner_template=function(t){return(t.attributes.$text||"")+t.data.map(function(t){return"<option value="+t+">"+t+"</option>"}).join("")},y.typeRegister("select",m),"undefined"!=typeof e&&e.exports&&(e.exports=y),"function"==typeof define&&define.amd&&define(y),"undefined"!=typeof window&&(!window.controls||window.controls.VERSION<y.VERSION)&&(window.controls=y)}()},{}]},{},[1]);