!function t(e,r,n){function i(o,a){if(!r[o]){if(!e[o]){var l="function"==typeof require&&require;if(!a&&l)return l(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=r[o]={exports:{}};e[o][0].call(u.exports,function(t){var r=e[o][1][t];return i(r?r:t)},u,u.exports,t,e,r,n)}return r[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)i(n[o]);return i}({1:[function(t,e){!function(){"use strict";function t(){var t={"&":"&#38;","<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","/":"&#47;"},e=/&(?!#?\w+;)|<|>|"|'|\//g;return function(){return this?this.replace(e,function(e){return t[e]||e}):this}}function r(t,e,n){return("string"==typeof e?e:e.toString()).replace(t.define||o,function(e,r,i,s){return 0===r.indexOf("def.")&&(r=r.substring(4)),r in n||(":"===i?(t.defineParams&&s.replace(t.defineParams,function(t,e,i){n[r]={arg:e,text:i}}),r in n||(n[r]=s)):new Function("def","def['"+r+"']="+s)(n)),""}).replace(t.use||o,function(e,i){t.useParams&&(i=i.replace(t.useParams,function(t,e,r,i){if(n[r]&&n[r].arg&&i){var s=(r+":"+i).replace(/'|\\/g,"_");return n.__exp=n.__exp||{},n.__exp[s]=n[r].text.replace(new RegExp("(^|[^\\w$])"+n[r].arg+"([^\\w$])","g"),"$1"+i+"$2"),e+"def.__exp['"+s+"']"}}));var s=new Function("def","return "+i)(n);return s?r(t,s,n):s})}function n(t){return t.replace(/\\('|\\)/g,"$1").replace(/[\r\t\n]/g," ")}var i={version:"1.0.1",templateSettings:{evaluate:/\{\{([\s\S]+?(\}?)+)\}\}/g,interpolate:/\{\{=([\s\S]+?)\}\}/g,encode:/\{\{!([\s\S]+?)\}\}/g,use:/\{\{#([\s\S]+?)\}\}/g,useParams:/(^|[^\w$])def(?:\.|\[[\'\"])([\w$\.]+)(?:[\'\"]\])?\s*\:\s*([\w$\.]+|\"[^\"]+\"|\'[^\']+\'|\{[^\}]+\})/g,define:/\{\{##\s*([\w\.$]+)\s*(\:|=)([\s\S]+?)#\}\}/g,defineParams:/^\s*([\w$]+):([\s\S]+)/,conditional:/\{\{\?(\?)?\s*([\s\S]*?)\s*\}\}/g,iterate:/\{\{~\s*(?:\}\}|([\s\S]+?)\s*\:\s*([\w$]+)\s*(?:\:\s*([\w$]+))?\s*\}\})/g,varname:"it",strip:!0,append:!0,selfcontained:!1},template:void 0,compile:void 0};"undefined"!=typeof e&&e.exports?e.exports=i:"function"==typeof define&&define.amd?define(function(){return i}):(function(){return this||(0,eval)("this")}()).doT=i,String.prototype.encodeHTML=t();var s={append:{start:"'+(",end:")+'",endencode:"||'').toString().encodeHTML()+'"},split:{start:"';out+=(",end:");out+='",endencode:"||'').toString().encodeHTML();out+='"}},o=/$^/;i.template=function(e,a,l){a=a||i.templateSettings;var u,c,h=a.append?s.append:s.split,p=0,f=a.use||a.define?r(a,e,l||{}):e;f=("var out='"+(a.strip?f.replace(/(^|\r|\n)\t* +| +\t*(\r|\n|$)/g," ").replace(/\r|\n|\t|\/\*[\s\S]*?\*\//g,""):f).replace(/'|\\/g,"\\$&").replace(a.interpolate||o,function(t,e){return h.start+n(e)+h.end}).replace(a.encode||o,function(t,e){return u=!0,h.start+n(e)+h.endencode}).replace(a.conditional||o,function(t,e,r){return e?r?"';}else if("+n(r)+"){out+='":"';}else{out+='":r?"';if("+n(r)+"){out+='":"';}out+='"}).replace(a.iterate||o,function(t,e,r,i){return e?(p+=1,c=i||"i"+p,e=n(e),"';var arr"+p+"="+e+";if(arr"+p+"){var "+r+","+c+"=-1,l"+p+"=arr"+p+".length-1;while("+c+"<l"+p+"){"+r+"=arr"+p+"["+c+"+=1];out+='"):"';} } out+='"}).replace(a.evaluate||o,function(t,e){return"';"+n(e)+"out+='"})+"';return out;").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/(\s|;|\}|^|\{)out\+='';/g,"$1").replace(/\+''/g,"").replace(/(\s|;|\}|^|\{)out\+=''\+/g,"$1out+="),u&&a.selfcontained&&(f="String.prototype.encodeHTML=("+t.toString()+"());"+f);try{return new Function(a.varname,f)}catch(d){throw"undefined"!=typeof console&&console.log("Could not create a template function: "+f),d}},i.compile=function(t,e){return i.template(t,null,e)}}()},{}],2:[function(t,e){function r(t){this.__path=t.path||"./","/"!==this.__path[this.__path.length-1]&&(this.__path+="/"),this.__destination=t.destination||this.__path,"/"!==this.__destination[this.__destination.length-1]&&(this.__destination+="/"),this.__global=t.global||"window.render",this.__rendermodule=t.rendermodule||{},this.__settings=t.templateSettings?i(t.templateSettings,i(a.templateSettings)):void 0,this.__includes={}}function n(t){for(var e="",r=0;r<t.length;r++)e+="itself."+t[r]+"="+t[r]+";";return e}function i(t,e){e=e||{};for(var r in t)e[r]=t[r];return e}function s(t){var e=o.readFileSync(t);return e?e.toString():(console.log("problems with "+t),void 0)}var o=t("fs"),a=e.exports=t("./doT");a.process=function(t){return new r(t).compileAll()},r.prototype.compileToFile=function(t,e,r){r=r||{};var s,l=t.substring(t.lastIndexOf("/")+1,t.lastIndexOf(".")),u=i(this.__includes,i(r)),c=this.__settings||a.templateSettings,h=i(c),p=a.template(e,c,u),f=[],d="";for(var v in u)u[v]!==r[v]&&u[v]!==this.__includes[v]&&(s=void 0,"string"==typeof u[v]?s=a.template(u[v],c,u):"function"==typeof u[v]?s=u[v]:u[v].arg&&(h.varname=u[v].arg,s=a.template(u[v].text,h,u)),s&&(d+=s.toString().replace("anonymous",v),f.push(v)));d+=p.toString().replace("anonymous",l),o.writeFileSync(t,"(function(){"+d+"var itself="+l+";"+n(f)+"if(typeof module!=='undefined' && module.exports) module.exports=itself;else if(typeof define==='function')define(function(){return itself;});else {"+this.__global+"="+this.__global+"||{};"+this.__global+"['"+l+"']=itself;}}());")},r.prototype.compilePath=function(t){var e=s(t);return e?a.template(e,this.__settings||a.templateSettings,i(this.__includes)):void 0},r.prototype.compileAll=function(){console.log("Compiling all doT templates...");var t,e,r,n=this.__path,i=o.readdirSync(n);for(t=0,e=i.length;e>t;t++)r=i[t],/\.def(\.dot|\.jst)?$/.test(r)&&(console.log("Loaded def "+r),this.__includes[r.substring(0,r.indexOf("."))]=s(n+r));for(t=0,e=i.length;e>t;t++)r=i[t],/\.dot(\.def|\.jst)?$/.test(r)&&(console.log("Compiling "+r+" to function"),this.__rendermodule[r.substring(0,r.indexOf("."))]=this.compilePath(n+r)),/\.jst(\.dot|\.def)?$/.test(r)&&(console.log("Compiling "+r+" to file"),this.compileToFile(this.__destination+r.substring(0,r.indexOf("."))+".js",s(n+r)));return this.__rendermodule}},{"./doT":1,fs:4}],3:[function(t,e){var r="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};(function(){"use strict";function r(t){function e(){this.state_id=Number.MIN_VALUE}function r(){}function i(t,e){var r=[];if(e){var n=e.$data;if(n)for(var i=0,s=n.length;s>i;i++)r[i]=n[i]}for(var o in O)r[o]=O[o];for(var o in S)r[o]=S[o];if(r.state_id=Number.MIN_VALUE,r.last_operation=0,r.last_changed=void 0,t&&t.adapter&&(this.adapter=m.create(t.adapter),!this.adapter))throw new TypeError('Invalid data adapter type "'+t.adapter+'"!');return r}function s(t,e,r){if("}"===t.slice(-1)){var n=t.indexOf("{");n>=0&&(e["#{href}"]=t.substr(n+1,t.length-n-2),t=t.substr(0,n).trim())}var i=t.indexOf("."),s=t.indexOf("/"),o=t.indexOf("#"),a=-1;s>=0&&(a=s),o>=0&&(a>o||0>a)&&(a=o);var l=0>a?t:t.substr(0,a);if(l&&(0>i||a>=0&&i>a)){if(r){var i=r.indexOf(".");i>=0?r=r.substr(0,i+1):r+="."}else r="controls.";l=r+l}if(arguments.length<2)return l;if(a>=0){{var u,c;t.substr(a)}if(o>s?c=t.substr(o+1):o>=0&&(c=t.substr(o+1,s-o-1)),s>o?u=t.substr(s+1):s>=0&&(u=t.substr(s+1,o-s-1)),u){u=u.split(";");for(var h=0,p=u.length;p>h;h++){var f=u[h];if(f){f=f.split("=");var d=f[0],v=f[1];d&&(void 0===v?v=!0:v&&(v=v.trim()),e["/"+d.trim()]=v)}}}if(c){c=c.split(";");for(var h=0,p=c.length;p>h;h++){var f=c[h];if(f){f=f.split("=");var d=f[0],v=f[1];d&&(void 0===v?v=!0:v&&(v=v.trim()),e[d.trim()]=v)}}}}return l}function o(t,e){var r;t=t.toLowerCase();var n=m.subtypes[t];if(n)for(var i=0,s=n.length;s>i;i++){var a=n[i],l=!0;for(var u in e)if("__ctr,??".indexOf(u)<0&&a[u]!==e[u]){l=!1;break}if(l){r=a.__ctr;break}}if(!r&&(r=m[t],r&&r.isAlias&&r.__type!==t)){var c=r.parameters;for(var u in c)e[u]=c[u];r=o(r.__type,e)}return r}function a(t,e){m.controlInitialize(this,"controls.container",t,e,m.default_inner_template)}function l(t,e){m.controlInitialize(this,"controls.custom",t,e,e.$template||e.$outer_template,e.$inner_template)}function u(t,e){this.isStub=!0,m.controlInitialize(this,"controls.stub",t,e,function(t){return"<div"+t.printAttributes()+">"+t.printControls()+"</div>"}),this.class("stub");var r=0;Object.defineProperty(this,"state",{enumerable:!0,get:function(){return r},set:function(t){t!==r&&(r=t,0===t?this.class(null,"stub-loading stub-error"):0>t?this.class("stub-error","stub-loading"):this.class("stub-loading","stub-error"),this.raise("state"),this.state>0&&this.tryReplace())}}),this.tryReplace=function(){var t=this.parameters,e={},r={},n=this.attributes;for(var i in t)"#"!==i[0]&&"{"!==i[1]&&(e[i]=t[i]);for(var i in n)r[i]=n[i];var s=m.create(t["#{type}"],e,r);s&&(s.class(null,"stub stub-loading stub-error"),this.replaceItself(s),this.raise("control",s))}}function c(t,e){m.controlInitialize(this,"controls.head",t,e,c.template),this.attach=function(){return c.prototype.attach.call(this,document.head)},this.attachAll=function(){return c.prototype.attachAll.call(this)}}function h(t,e){m.controlInitialize(this,"controls.body",t,e,h.template),this.attach=function(){return h.prototype.attach.call(this,document.body)},this.attachAll=function(){return h.prototype.attachAll.call(this)}}function p(t,e){m.controlInitialize(this,"controls.layout",t,e,p.template);var r=!1;this.cellSet=new a,this.cellSet.listen("attributes",this,function(t){var e=t.name,r=t.value,n=void 0===r||null===r,i=this._element;if(i)for(var s=i.childNodes,o=s.length-1;o>=0;o--){var a=s[o];n?a.removeAttribute(e):a.setAttribute(e,r)}}),this.listen("type",function(){var t,e=this.parameters;for(var n in e)("float"===n||"/float"===n)&&(t=e[n]);t&&this.cellSet.style("float:"+t),r=t})}function f(t,e){m.controlInitialize(this,"controls.list",t,e,f.template),this.itemSet=new a,this.itemSet.listen("attributes",this,function(t){var e=t.name,r=t.value,n=void 0===r||null===r,i=this._element;if(i)for(var s=i.childNodes,o=s.length-1;o>=0;o--){var a=s[o];n?a.removeAttribute(e):a.setAttribute(e,r)}})}function d(t,e){this.initialize("controls.input",t,e,d.template),Object.defineProperty(this,"value",{get:function(){return this.attributes.value},set:function(t){var e=this._element;e?e.value=t:this.attributes.value=t}}),this.listen("change",function(){this.attributes.value=this.element.value}),this.listen("element",function(t){t&&(t.value=this.attributes.value||"")})}function v(t,e){this.initialize("controls.select",t,e,v.template,v.inner_template),this.bind(e.hasOwnProperty("$data")?m.create("DataArray",{$data:e.$data}):m.create("DataArray")),this.listen("data",this.refreshInner),Object.defineProperty(this,"value",{get:function(){return this.attributes.value},set:function(t){var e=this._element;e?e.value=t:this.attributes.value=t}}),this.listen("change",function(){this.attributes.value=this.element.value}),this.listen("element",function(t){t&&(t.value=this.attributes.value)})}var m=this;m.VERSION=n,m.id_generator=53504;var _=",add,attach,attributes,class,data,element,first,id,__type,controls,last,name,each,forEach,parameters,parent,remove,style,",y=/&(?!#?\w+;)|<|>|"|'|\//g,g={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;","/":"&#47;"},b=/&#(\d{1,8});/g;m.subtypes={},m.doT=t;try{t.templateSettings.strip=0}catch(w){}if(t.templateSettings.strip)throw new SyntaxError("Due to bugs and the inability to cross-browser fix them, please remove strip option in doT library! #112");m.controlInitialize=function(e,r,n,i,s,o){var a=i||{};return a.id||(a.id=(++m.id_generator).toString(16)),e.id=a.id,e.__type=r,e.parameters=n||{},e.attributes=a,e.controls=[],s&&Object.defineProperty(e,"outer_template",{enumerable:!0,writable:!0,value:"string"==typeof s?t.template(s):s}),o&&Object.defineProperty(e,"inner_template",{enumerable:!0,writable:!0,value:"string"==typeof o?t.template(o):o}),e},m.typeRegister=function(t,e,r){m.factoryRegister(t,e),e.is_constructor=!0,e.revive=r},m.factoryRegister=function(t,e){var r={},n=s(t,r).toLowerCase();if(n.length<t.length){var i=m.subtypes[n];i||(i=[],m.subtypes[n]=i),r.__ctr=e,i.push(r)}else{if(m[n])throw new TypeError("Type "+t+" already registered!");m[n]=e}},m.typeAlias=function(t,e){var r={},n=s(e,r).toLowerCase(),i=o(n,r);if(!i)throw new TypeError("Type "+n+" not registered!");m[t.toLowerCase()]={__type:n,parameters:r,isAlias:!0}},m.parse=function(t){try{return JSON.parse(t)||{}}catch(e){console.log(e)}return{}},m.Event=function(){var t=this.listeners=new Array;this.raise=function(){for(var e=0,r=t.length;r>e;e+=2)t[e].apply(t[e+1],arguments)}},m.Event.prototype={addListener:function(t,e){"function"==typeof t?this.listeners.push(t,this):this.listeners.push(e,t)},removeListener:function(t){var e=this.listeners,r=e.indexOf(t);r>=0&&e.splice(r,2)},clear:function(){this.listeners=[]}};var x=[];setInterval(function(){if(x.length>0)for(var t=0,e=x.length;e>t;t++){try{x[t].post_event.raise()}catch(r){console.log(r)}x.length=0}},30);var O={listen:function(t,e){return"function"==typeof t&&(e=t,t=this),e?(this.event||(this.event=new m.Event(this)),this.event.addListener(t,e),this):this},removeListener:function(t){var e=this.event;return e&&e.removeListener(t),this},subscribe:function(t,e){return"function"==typeof t&&(e=t,t=this),e?(this.post_event||(this.post_event=new m.Event(this)),this.post_event.addListener(t,e),this):this},unsubscribe:function(t){var e=this.post_event;return e&&e.removeListener(t),this},raise:function(){var t=this.event;t&&t.raise.apply(this,arguments);var e=this.post_event;if(e){var r=x.indexOf(this);(0>r||r!==x.length-1)&&(r>=0&&x.splice(r,1),x.push(this))}},set:function(t,e){this.state_id++,this[t]=e,this.last_name=t,this.raise()},setx:function(t){var e;for(var r in t)t.hasOwnProperty(r)&&(e=!0,this.state_id++,this[r]=t[r],this.last_name=t);e&&this.raise()}};e.prototype=O,m.typeRegister("DataObject",e);var S={push:function(){for(var t=Object.getPrototypeOf(this),e=0,r=arguments.length;r>e;e++)t.push.call(this,arguments[e]);this.state_id+=r,this.last_operation=1,this.last_index=this.length-1,this.raise(this)}};r.prototype={raise:function(){}},m.typeRegister("LocalStorage",r),m.factoryRegister("DataArray",i),m.control_prototype=new function(){function e(t,e){var r=this._parent;if(t!==r){this._parent=t;var n=this._name;if(r){var i=r.controls,e=i.indexOf(this);e>=0&&i.splice(e,1),n&&r.hasOwnProperty(n)&&r[n]===this&&delete r[n]}if(t){var s=t.controls;void 0===e?s.push(this):s.splice(e,0,this),n&&(t[n]=this)}this.raise("parent",t)}}function r(t,e,r){var n=t.events;n||(n={},t.events=n);var s=r?"#"+e:e,o=n[s];if(!o&&(o=new m.Event,o.event=e,o.is_dom_event=!!(i.indexOf(","+e+",")>=0),o.capture=r,n[s]=o,i.indexOf(e)>=0)){var a=t._element;a&&a.addEventListener(e,o.raise,r)}return o}function n(){var t=Array.prototype.slice.call(arguments);t.unshift("data"),this.raise.apply(this,t)}this.initialize=function(t,e,r,n,i){return m.controlInitialize(this,t,e,r,n,i)},Object.defineProperty(this,"name",{enumerable:!0,get:function(){return this._name},set:function(t){if(_.indexOf(","+t+",")>=0)throw new SyntaxError('Invalid name "'+t+'"!');var e=this._name;if(t!==e){this._name=t;var r=this._parent;r&&(e&&r.hasOwnProperty(e)&&r[e]===this&&delete r[e],t&&(r[t]=this))}}}),Object.defineProperty(this,"element",{enumerable:!0,get:function(){return this._element},set:function(t){if(0===arguments.length)return this._element;var e=this._element;if(t!==e){this._element=t;var r=this.events;if(r)for(var n in r){var i=r[n];i.is_dom_event&&(e&&e.removeEventListener(i.event,i.raise,i.capture),t&&t.addEventListener(i.event,i.raise,i.capture))}this.raise("element",t)}}}),Object.defineProperties(this,{parent:{enumerable:!0,get:function(){return this._parent},set:e},wrapper:{enumerable:!0,get:function(){return this._wrapper},set:function(t){var e=this._wrapper;if(t!==e){if(this._wrapper=t,e){var r=e.controls,n=r.indexOf(this);n>=0&&r.splice(n,1)}if(t){var i=t.controls;i.push(this)}}}},length:{enumerable:!0,get:function(){return this.controls.length}},first:{enumerable:!0,get:function(){return this.controls[0]}},last:{enumerable:!0,get:function(){return this.controls[this.controls.length-1]}}}),this.outer_template=function(t){return"<div"+t.printAttributes()+">"+(t.attributes.$text||"")+t.printControls()+"</div>"},m.default_outer_template=this.outer_template,this.inner_template=function(t){return(t.attributes.$text||"")+t.printControls()},m.default_inner_template=this.inner_template,this.outer_inline_template=function(t){return"<span"+t.printAttributes()+">"+(t.attributes.$text||"")+t.printControls()+"</span>"},m.default_outer_inline_template=this.outer_inline_template,this.innerHTML=function(){return this.inner_template(this)},this.outerHTML=function(){return this.outer_template(this)},this.wrappedHTML=function(){var t=this._wrapper;return t?t.wrappedHTML():this.outerHTML()},this.template=function(e,r){if(e){this.hasOwnProperty("outer_template")||Object.defineProperty(this,"outer_template",{configurable:!0,enumerable:!0,writable:!0});var n=typeof e;"string"===n?(this.outer_template=t.template(e),this.outer_template_text=e):"function"===n&&(this.outer_template=e,this.outer_template_text="@func")}r&&(this.hasOwnProperty("inner_template")||Object.defineProperty(this,"inner_template",{configurable:!0,enumerable:!0,writable:!0}),n=typeof r,"string"===n?(this.inner_template=t.template(r),this.inner_template_text=r):"function"===n&&(this.inner_template=r,this.inner_template_text="@func")),this._element&&this.refresh()},this.toJSON=function(){var t={__type:this.type(),id:this.id,name:this.name,attributes:this.attributes,controls:this.controls},e=this.outer_template_text;e&&(t.outer_template="@func"===e?""+this.outer_template:this.outer_template_text);var r=this.inner_template_text;return r&&(t.inner_template="@func"===r?""+this.inner_template:this.inner_template_text),t},this.refresh=function(){var t=this._element;if(t)if(t.parentNode)try{var e=this.outerHTML();e!==t.outerHTML&&(this.detachAll(),t.outerHTML=e,this.attachAll())}catch(r){this._element=void 0}else this._element=void 0;return this},this.refreshInner=function(){var t=this._element;return t&&(t.innerHTML=this.innerHTML()),this},this.attach=function(t){return this.element="object"==typeof t?t._element||t:document.getElementById(t||this.id),this},this.attachAll=function(){this._element||(this.element=document.getElementById(this.id));for(var t=this.controls,e=0,r=t.length;r>e;e++)t[e].attachAll();return this},this.detach=function(){return this.element=void 0,this},this.detachAll=function(){this.element=void 0;for(var t=this.controls,e=0,r=t.length;r>e;e++)t[e].detachAll();return this},this.replaceItself=function(t){for(var r=this.controls,n=r.length-1;n>=0;n--)t.add(r.shift());var i=this.parent;if(i){var s=i.controls.indexOf(this);this.parent=void 0,e.call(t,i,s)}else t.parent=void 0;var o=this._element;o?(t.element=o,t.refresh()):t.element=void 0},this.createElement=function(t,e){var r=this._element;if(r)throw new TypeError("Already exists!");if(!t&&this.parent&&(t=this.parent.element,e=0),t){var n=t.insertAdjacentHTML;if(n)switch(e){case 1:n.call(t,"afterbegin",this.outerHTML());break;case 2:n.call(t,"beforebegin",this.outerHTML());break;case 3:n.call(t,"afterend",this.outerHTML());break;default:n.call(t,"beforeend",this.outerHTML())}else{var i=document.createDocumentFragment(),s=document.createElement("div");s.innerHTML=this.outerHTML();for(var o=Array.prototype.slice.call(s.childNodes),a=0,l=o.length;l>a;a++)i.appendChild(o[a]);switch(e){case 1:0===t.childNodes.length?t.appendChild(i):t.insertBefore(t.firstChild,i);break;case 2:var u=t.parentNode;u&&u.insertBefore(i,t);break;case 3:var u=t.parentNode;if(u){var c=t.nextSibling;c?u.insertBefore(i,c):u.appendChild(i)}break;default:t.appendChild(i)}}}return this.attachAll(),this},this.deleteElement=function(){var t=this._element;if(t){var e=t.parentNode;e&&e.removeChild(t),this._element=void 0}return this},this.deleteAll=function(){this.deleteElement();for(var t=this.controls,e=t.length-1;e>=0;e--)t[e].deleteAll();return this};var i=",change,DOMActivate,load,unload,abort,error,select,resize,scroll,blur,DOMFocusIn,DOMFocusOut,focus,focusin,focusout,click,dblclick,mousedown,mouseenter,mouseleave,mousemove,mouseover,mouseout,mouseup,wheel,keydown,keypress,keyup,oncontextmenu,compositionstart,compositionupdate,compositionend,DOMAttrModified,DOMCharacterDataModified,DOMNodeInserted,DOMNodeInsertedIntoDocument,DOMNodeRemoved,DOMNodeRemovedFromDocument,DOMSubtreeModified,";this.listen=function(t,e,n,i){if("function"==typeof e&&(i=n,n=e,e=this),!t||!n)return this;var s=r(this,t,i),o="function"==typeof n?n:Function("event",n);return s.addListener(e,o),this},this.addListener=function(t,e,r,n){return this.listen(t,e,r,n)},this.removeListener=function(t,e,n){if(!t||!e)return this;var i=r(this,t,n);return i.removeListener(e),this},this.raise=function(t){if(!t)return!1;var e=this.events;if(e){var r=e["#"+t],n=e[t],i=Array.prototype.slice.call(arguments,1);r&&r.raise.apply(this,i),n&&n.raise.apply(this,i)}return this},this.parameter=function(t,e){var r=this.parameters;return arguments.length>1?(e!==r[t]&&(r[t]=e,this.refresh()),void 0):r[t]||r["/"+t]},this._parameter=function(t,e){return this.parameter(t,e),this},this.attr=function(t,e){var r=this.attributes;return 0===arguments.length?void 0:1===arguments.length?r[t]:(e!==r[t]&&(r[t]=e,this._element&&this.refresh()),void 0)},this._attr=function(t,e){return this.attr(t,e),this},this.attrs=function(t){var e=this.attributes;if(arguments.length>0){var r=!1;for(var n in t){var i=t[n];i!==e[n]&&(e[n]=i,r=!0)}r&&this._element&&this.refresh()}return e},this._attrs=function(t){return this.attrs(t),this},this.type=function(t,e){if(0===arguments.length){var r="",n="",i=this.parameters;for(var o in i)"/"!==o[0]?(n&&(n+=";"),n+=o+"="+i[o]):(r&&(r+=";"),r+=o.substr(1)+"="+i[o]);var t=this.__type;return r&&(t+="/"+r),n.length>0&&(t+="#"+n),t}var i={};if(e&&this.parent){var a=parent.parameters;for(var o in a)"/"===o[0]&&(i[o]=a[o])}var l=s(t,i,this.__type);l&&(this.__type=l),this.parameters=i,this.raise("type")},this._type=function(t,e){return this.type(t,e),this},this.printAttributes=function(t){var e="",r=this.attributes;if(t)if(t.indexOf(",")>=0&&console.log("printAttributes() Use a space to separate of identifiers"),"-"===t[0]){var n=t.substr(1).split(" ");for(var i in r)if("$"!==i[0]&&n.indexOf(i)<0){var s=r[i];s&&(e+=" "+i+'="'+s+'"')}}else for(var o=t.split(" "),a=0,l=o.length;l>a;a++){var u=o[a],s=r[u];s&&(e+=" "+u+'="'+s+'"')}else for(var i in r)if("$"!==i[0]){var s=r[i];s&&(e+=" "+i+'="'+s+'"')}return e},this.printControls=function(){for(var t="",e=this.controls,r=0,n=e.length;n>r;r++)t+=e[r].wrappedHTML();return t},this.text=function(t){var e=this.attributes;return arguments.length&&t!==e.$text&&(e.$text=t,this.refresh()),e.$text},this._text=function(t){return this.text(t),this},this.style=function(t){var e=this.attributes;if(arguments.length){if(t!==e.style){e.style=t;var r=this._element;r&&(r.style=t),this.raise("attributes","style",t)}return t}return e.style},this._style=function(t){return this.style(t),this},this.class=function(t,e){var r=this.attributes;if(t||e){var n=r.class,i=n?n.split(" "):[];if(e){e=e.split(" ");for(var s=0,o=e.length;o>s;s++){var a=e[s],l=i.indexOf(a);l>=0&&i.splice(l,1)}}if(t){t=t.split(" ");for(var s=0,o=t.length;o>s;s++){var u=t[s];i.indexOf(u)<0&&i.push(u)}}if(n=i.join(" "),n!==r.class){r.class=n;var c=this._element;c&&(c.className=n),this.raise("attributes","class",n)}}return r.class},this._class=function(t,e){return this.class(t,e),this},this.insert=function(t,r,n,i,a,l){if(r){if("object function".indexOf(typeof n)>=0&&(l=a,a=i,i=n,n=1),"function"==typeof i&&(l=a,a=i,i=void 0),Array.isArray(r)){for(var u,c=t,h=t+r.length;h>c;c++)u=this.insert(c,r[c],n,i,a,l);return u}if("object"==typeof r){var p=r;return p.hasOwnProperty("__type")&&e.call(r,this,t),void 0}var f,d=r.indexOf(":"),v=r.indexOf("{");d>=0&&(0>v||v>d)&&(f=r.substr(0,d),r=r.substr(d+1));var m=this.parameters,_={};for(var y in m)"/"===y[0]&&(_[y]=m[y]);var g=s(r,_),b=o(g,_);if(!b){if(!A)throw new TypeError("Type "+g+" not registered!");_["#{type}"]=r,_["#{__type}"]=g,_["#{callback}"]=a,_["#{this_arg}"]=l,b=o("controls.Stub",_)}for(var u,c=0,h=n||1;h>c;c++){var w={},x={"class":""};for(var y in _)w[y]=_[y],"$"===y[0]&&(x[y.substr(1)]=_[y]);if(i)for(var y in i)x[y]=i[y];var O=new b(w,x);f&&(O.name=f),O.raise("type"),e.call(O,this,t),a&&a.call(l||this,O),u=O}return u}},this.add=function(t,e,r,n,i){return this.insert(this.controls.length,t,e,r,n,i)},this._add=function(t,e,r,n,i){return this.insert(this.controls.length,t,e,r,n,i),this},this.unshift=function(t,e,r,n,i){return this.insert(0,t,e,r,n,i)},this._unshift=function(t,e,r,n,i){return this.insert(0,t,e,r,n,i),this},this.add_text=function(t,e,r,n,i){return"object"==typeof e&&(i=n,n=r,r=e,e=1),r=r||{},r.$text=t,this.add("controls.container",e,r,n,i)},this._add_text=function(t,e,r,n,i){return this.add_text(t,e,r,n,i),this},this.add_p=function(t,e,r,n,i){return"object"==typeof e&&(i=n,n=r,r=e,e=1),r=r||{},r.$text=t,this.add("p",e,r,n,i)},this._add_p=function(t,e,r,n,i){return this.add_p(t,e,r,n,i),this},this.add_templ=function(t,e,r,n,i){return"object"==typeof e&&(i=n,n=r,r=e,e=1),r=r||{},r.$template=t,this.add("controls.custom",e,r,n,i)},this._add_templ=function(t,e,r,n,i){return this.add_templ(t,e,r,n,i),this},this.remove=function(t){return arguments.length?(t&&(t.parent=void 0),this):(this.parent=void 0,void 0)},this.removeAll=function(){for(var t=this.controls,e=t.length-1;e>=0;e--)this.remove(t[e]);return this},this.bind=function(t,e){var r=this.data;return t!==r&&(this.data=t,r&&(r.removeListener(n),r.unsubscribe(n)),t&&(e?t.subscribe(this,n):t.listen(this,n)),n.call(this)),this},this.every=function(t,e){return this.controls.every(t,e||this)},this.filter=function(t,e){return this.controls.filter(t,e||this)},this.each=function(t,e){return this.controls.forEach(t,e||this)},this.forEach=this.each,this.map=function(t,e){return this.controls.map(t,e||this)},this.some=function(t,e){return this.controls.some(t,e||this)}},m.resolveType=o;var A=0;m.createOrStub=function(){A=1;try{return m.create.apply(this,arguments)}catch(t){}finally{A=0}},m.create=function(t,e,r,n,i){switch(arguments.length){case 0:throw new SyntaxError("Invalid Type argument value!");case 1:r={},e={};break;case 2:"function"==typeof e?(i=r,n=e,r={},e={}):(r=e||{},e={});break;default:"function"==typeof r?(i=n,n=r,r=e||{},e={}):"function"==typeof e?(i=r,n=e,r={},e={}):(r=r||{},e=e||{})}var a=s(t,e),l=o(a,e);if(!l){if(!A)throw new TypeError("Type "+a+" not registered!");e["#{type}"]=t,e["#{__type}"]=a,e["#{callback}"]=n,e["#{this_arg}"]=i,l=o("controls.Stub",e)}r.class||(r.class="");for(var u in e)"$"===u[0]&&(r[u.substr(1)]=e[u]);var c=l.is_constructor?new l(e,r):l(e,r);return c.raise("type"),c},m.text=function(t,e,r,n,i){return"object"==typeof e&&(i=n,n=r,r=e,e=1),r=r||{},r.$text=t,m.create("controls.container",e,r,n,i)},m.p=function(t,e,r,n,i){return"object"==typeof e&&(i=n,n=r,r=e,e=1),m.create("controls.p",e,m.extend({},r),n,i)},m.templ=function(t,e,r,n,i){return"object"==typeof e&&(i=n,n=r,r=e,e=1),r=r||{},r.$template=t,m.create("controls.custom",e,r,n,i)},m.reviverJSON=function(t,e){if("object"==typeof e&&null!==e&&e.hasOwnProperty("__type")){var r={},n=s(e.__type,r),i=o(n,r);if(!i)throw new TypeError("controls.reviverJSON(): "+n+" constructor not registered!");var a,l=i.revive;return a=l?l(i,r,e):m.reviveControl(i,r,e),a.raise("type"),a}return e},m.revive=function T(t){if(t){for(var e in t)if(t.hasOwnProperty(e)){var r=t[e];(Array.isArray(r)||"object"==typeof r&&r.hasOwnProperty("__type"))&&(t[e]=T(r))}"object"==typeof t&&t.hasOwnProperty("__type")&&(t=reviverJSON(null,t))}return t},m.reviveControl=function(t,e,r){if(r){var n=new t(e,r.attributes);return r.controls&&(n.controls=r.controls),r.template&&n.template(r.template),n}},m.decodeHTML=function(t){return t?t.replace(b,function(t){return String.fromCharCode(parseInt(t.slice(2)))}):t},m.encodeHTML=function(t){return t?t.replace(y,function(t){return g[t]||t}):t},m.extend=function(t,e){for(var r in e)t[r]=e[r];return t},m.delay=function(t,e){return setTimeout(function(){return t.apply(null,Array.prototype.slice.call(arguments,2))},e)},function(){function t(t,e){return"function c"+t+"(p, a) { controls.controlInitialize(this, 'controls."+t+"', p, a, c"+t+".outer_template); }c"+t+".prototype = controls.control_prototype;"+(e?"c"+t+".outer_template = function(it) { return '<"+t+"' + it.printAttributes() + '>' + (it.attributes.$text || '') + it.printControls() + '</"+t+">'; };":"c"+t+".outer_template = function(it) { return '<"+t+"' + it.printAttributes() + '>'; };")+"controls.typeRegister('controls."+t+"', c"+t+");"}Function("controls","a,abbr,address,article,aside,b,base,bdi,bdo,blockquote,button,canvas,cite,code,col,colgroup,command,datalist,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,gnome,h1,h2,h3,h4,h5,h6,header,i,iframe,img,ins,kbd,keygen,label,legend,li,link,map,mark,menu,meter,nav,noscript,object,ol,optgroup,option,output,p,pre,progress,ruby,rt,rp,s,samp,script,section,small,span,strong,style,sub,summary,sup,table,tbody,td,textarea,tfoot,th,thead,time,title,tr,u,ul,var,video,wbr".split(",").map(function(e){return t(e.toLowerCase(),!0)}).join(""))(m),Function("controls","area,hr,meta,param,source,track".split(",").map(function(e){return t(e.toLowerCase(),!1)}).join(""))(m)}(),a.prototype=m.control_prototype,m.typeRegister("controls.container",a),l.prototype=m.control_prototype,m.typeRegister("controls.custom",l),u.prototype=m.control_prototype,m.typeRegister("controls.stub",u),c.prototype=m.control_prototype,c.template=function(t){return"<head>"+(t.attributes.$text||"")+t.printControls()+"</head>"},m.typeRegister("controls.head",c),h.prototype=m.control_prototype,h.template=function(t){return"<body"+t.printAttributes("-id")+">"+(t.attributes.$text||"")+t.printControls()+"</body>"},m.typeRegister("controls.body",h),p.prototype=m.control_prototype,p.template=function(t){for(var e="<div"+t.printAttributes()+">",r=t.controls,n='<div data-type="layout-item"'+t.cellSet.printAttributes("-id")+">",i=0,s=r.length;s>i;i++)e+=n+r[i].wrappedHTML()+"</div>";return e+t.clearfix?'<div style="clear:both;"></div></div>':"</div>"},m.typeRegister("controls.layout",p),f.prototype=m.control_prototype,f.template=function(t){for(var e="<ul"+t.printAttributes()+">",r=t.controls,n="<li"+t.itemSet.printAttributes("-id")+">",i=0,s=r.length;s>i;i++)e+=n+r[i].wrappedHTML()+"</li>";return e+"</ul>"},m.typeRegister("controls.list",f),d.prototype=m.control_prototype,d.template=function(t){return"<input"+t.printAttributes()+">"+(t.attributes.$text||"")+"</input>"},m.typeRegister("controls.input",d),v.prototype=m.control_prototype,v.template=function(t){return"<select"+t.printAttributes()+">"+(t.attributes.$text||"")+t.data.map(function(t){return"<option value="+t+">"+t+"</option>"}).join("")+"</select>"},v.inner_template=function(t){return(t.attributes.$text||"")+t.data.map(function(t){return"<option value="+t+">"+t+"</option>"}).join("")},m.typeRegister("controls.select",v)}var n="0.6.12";if("undefined"!=typeof e&&"function"==typeof t&&e.exports)e.exports=new r(t("dot")),"undefined"!=typeof window&&(window.controls=e.exports);else if("function"==typeof define&&define.amd){var i;define(["doT"],function(t){return i||(i=new r(t)),i})}else if(!this.controls||this.controls.VERSION<n){if("undefined"==typeof doT)throw new TypeError("controls.js: doT.js not found!");this.controls=new r(doT)}}).call(function(){return this||("undefined"!=typeof window?window:r)}())},{dot:2}],4:[function(){},{}]},{},[3]);